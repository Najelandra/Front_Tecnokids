import styles from '../../../../styles/courses/A2.module.css';
import React, { useState } from 'react';
import LessonNav from '../../../components/LessonNav';
import { Camera, FACING_MODES } from 'react-html5-camera-photo';
import ImagePreview from '../../../components/ImagePreview';
import ModalRetro from '../../../components/ModalRetro';
import router, { useRouter } from 'next/router';
import Dialogos from '../../../components/Dialogos';
import ImageUploading from "react-images-uploading";
import 'react-html5-camera-photo/build/css/index.css';
import Btn from '../../../components/Btn';
//import ModalCargar from '../../../components/ModalCargar';
import Modal from 'react-modal';

export function Dialog1() {
    const dialogo1 = "Ahora es tu turno de compartie tu proyecto al mundo.";
    return (
        <Dialogos texto={dialogo1}></Dialogos>
    )
}

export function UploadImage(props) {


const customStyles = {
    content: {
        top: '50%',
        left: '50%',
        right: 'auto',
        bottom: 'auto',
        marginRight: '-50%',
        transform: 'translate(-50%, -50%)',
        background: 'none',
        border: '1px solid transparent'
    }
};
    const [images, setImages] = React.useState([]);
    const [imageFlag, setImageFlag] = useState(false);
    const maxNumber = 1;
    const maxFileSize = 2000000; //2MB
    const resolutionWidth = 500;
    const resolutionHeight = 600;

    const [modalIsOpen,
        setIsOpen] = React.useState(false);

    const onChange = (imageList, addUpdateIndex) => {
        // data for submit
        console.log(imageList, addUpdateIndex);
        setImages(imageList);
       // setImageFlag(true);
    };

    const cancelImageUpload = () => {
        
        setImageFlag(false);
    };


    function sendSaveImageDB(filename) {
        
        var id = sessionStorage.getItem('idUser');
        var requestOptions = {
            method: 'GET'
        };
        //cambiar por url moodle
        fetch(`${process.env.HOST}${process.env.get_save_image_db}${props.user}&lessonid=${props.lesson_id}&ruta=${process.env.HOST}/moodle/img/proyects/uploads/${filename}`, requestOptions)
            .then(response => {
                //response.text()
                if (response.status == 200) {
                    //activamos modal
                //    alert("Proyecto guardado con éxito.");
                    setIsOpen(true);
                }
            })
            .then(result => console.log(result))
            .catch(error => console.log('error', error))
    }
    function closeModal() {
        setIsOpen(false);
    }
    function afterOpenModal() {
        // references are now sync'd and can be accessed. subtitle.style.color =
        // '#F51C51'; subtitle.style.textAlign = 'center'; subtitle.style.fontFamily =
        // 'Kg-second-chances'; subtitle.style.backgroundColor = 'white';
    }


    function sendImageUpload(imageList) {
        console.log('enviando imagen...');

        // Create an object of formData 
        const formData = new FormData();

        // Update the formData object 
        formData.append(
            "file",
            imageList[0].file,
            props.user + '-' + props.lesson_id + '-' + imageList[0].file.name
        );

        // Details of the uploaded file 
        console.log(imageList[0].file);


        var requestOptions = {
            method: 'POST',
            body: formData,
            redirect: 'follow'
        };
        //cambiar por url moodle
        fetch(`${process.env.HOST}${process.env.post_save_image}`, requestOptions)
            .then(function (response) {
                return response.json();
            })
            .then(function (data) {
                console.log('image', data);
                if (!data.status) {
                    alert(data.message);
                } else {
                    sendSaveImageDB(props.user + '-' + props.lesson_id + '-' + imageList[0].file.name)
                }
            })
            .catch((error) => {
                console.log(error);
            });
    }



    return (
        <div className="App">
             <Modal
                isOpen={modalIsOpen}
                onAfterOpen={afterOpenModal}
                onRequestClose={closeModal}
                style={customStyles}
                contentLabel="Example Modal">
                <div>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 314 258" width={375} {...props}>
      <style>
        {
          ".prefix__st3{fill:#f0a4a5}.prefix__st7{opacity:.46;enable-background:new}.prefix__st7,.prefix__st9{fill:#fff}"
        }
      </style>
      <g id="prefix__Layer_1">
        <path
          d="M291.3 250H21.1c-8.4 0-15.3-6.8-15.3-15.3V22.3C5.8 13.8 12.7 7 21.1 7h270.1c8.4 0 15.3 6.8 15.3 15.3v212.4c.1 8.4-6.8 15.3-15.2 15.3z"
          fill="#c1e3e5"
        />
        <path
          d="M304.1 240.7H31.5c-7.8 0-14.1-6.3-14.1-14.1V11.8c0-1.7.3-3.2.8-4.7-7 .8-12.4 6.8-12.4 14v214.8c0 7.8 6.3 14.1 14.1 14.1h272.6c6.1 0 11.3-3.9 13.3-9.4-.6.1-1.2.1-1.7.1z"
          fill="#7dc4ca"
        />
        <path
          d="M292.5 7H19.9C15.8 7 12 8.8 9.5 11.6l7.5 7.9 262.8-1.7c7.8 0 15.8 8 15.8 15.8v206.7l7.7 4.5c2-2.4 3.2-5.6 3.2-9V21.1c.1-7.8-6.2-14.1-14-14.1z"
          fill="#f0f8f8"
        />
        <path
          className="prefix__st3"
          d="M288.7 15.8c-1.8 1-2.8 3.2-2.5 5.2s2.1 3.7 4.1 4.1c2.1.4 4.5-.7 5.5-2.6s.6-4.4-1-5.9c-2.1-1.9-4.5-1.8-6.1-.8"
        />
        <path d="M288.2 15c-2.2 1.3-3.4 3.8-2.9 6.2.4 2.4 2.5 4.4 4.9 4.8s5.1-.7 6.3-2.9c1.3-2.2.9-5-.7-6.9-2-2.1-5.2-2.6-7.6-1.2-1 .6-.1 2.2 1 1.6 1.5-.9 3.3-.7 4.7.4 1.4 1.1 1.9 3 1.2 4.7-.6 1.5-2.3 2.5-3.8 2.5-1.7 0-3.3-1.1-3.9-2.7-.7-1.8.2-3.9 1.9-4.9.9-.6-.1-2.2-1.1-1.6z" />
        <path className="prefix__st3" d="M287.8 16.5c2.2 2.5 4.4 5.1 6.7 7.6" />
        <path d="M287.1 17.1c2.2 2.5 4.4 5.1 6.7 7.6.3.4 1 .3 1.3 0 .4-.4.3-1 0-1.3-2.2-2.5-4.4-5.1-6.7-7.6-.3-.4-1-.3-1.3 0-.4.4-.3.9 0 1.3z" />
        <g>
          <path
            className="prefix__st3"
            d="M288.9 233c-1.8 1-2.8 3.2-2.5 5.2s2.1 3.7 4.1 4.1c2.1.4 4.5-.7 5.5-2.6 1-1.9.6-4.4-1-5.9-2-1.8-4.5-1.7-6.1-.8"
          />
          <path d="M288.4 232.2c-2.2 1.3-3.4 3.8-2.9 6.2.4 2.4 2.5 4.4 4.9 4.8 2.4.4 5.1-.7 6.3-2.9 1.3-2.2.9-5-.7-6.9-1.9-2.1-5.1-2.6-7.6-1.2-1 .6-.1 2.2 1 1.6 1.5-.9 3.3-.7 4.7.4 1.4 1.1 1.9 3 1.2 4.7-.6 1.5-2.3 2.5-3.8 2.5-1.7 0-3.3-1.1-3.9-2.7-.7-1.8.2-3.9 1.9-4.9.9-.5 0-2.2-1.1-1.6z" />
          <g>
            <path
              className="prefix__st3"
              d="M288 233.7c2.2 2.5 4.4 5.1 6.7 7.6"
            />
            <path d="M287.3 234.4c2.2 2.5 4.4 5.1 6.7 7.6.3.4 1 .3 1.3 0 .4-.4.3-1 0-1.3-2.2-2.5-4.4-5.1-6.7-7.6-.3-.4-1-.3-1.3 0-.4.3-.3.9 0 1.3z" />
          </g>
        </g>
        <g>
          <path
            className="prefix__st3"
            d="M15.9 15.5c-1.8 1-2.8 3.2-2.5 5.2s2.1 3.7 4.1 4.1c2.1.4 4.5-.7 5.5-2.6s.6-4.4-1-5.9c-2-1.9-4.5-1.8-6.1-.8"
          />
          <path d="M15.4 14.7c-2.2 1.3-3.4 3.8-2.9 6.2.4 2.4 2.5 4.4 4.9 4.8 2.4.4 5.1-.7 6.3-2.9 1.3-2.2.9-5-.7-6.9-1.9-2.1-5.1-2.6-7.6-1.2-1 .6-.1 2.2 1 1.6 1.5-.9 3.3-.7 4.7.4s1.9 3 1.2 4.7c-.6 1.5-2.3 2.5-3.8 2.5-1.7 0-3.3-1.1-3.9-2.7-.7-1.8.2-3.9 1.9-4.9.9-.6 0-2.2-1.1-1.6z" />
          <g>
            <path
              className="prefix__st3"
              d="M15 16.2c2.2 2.5 4.4 5.1 6.7 7.6"
            />
            <path d="M14.3 16.8c2.2 2.5 4.4 5.1 6.7 7.6.3.4 1 .3 1.3 0 .4-.4.3-1 0-1.3-2.2-2.5-4.4-5.1-6.7-7.6-.3-.4-1-.3-1.3 0-.4.4-.3 1 0 1.3z" />
          </g>
        </g>
        <g>
          <path
            className="prefix__st3"
            d="M15.9 233c-1.8 1-2.8 3.2-2.5 5.2s2.1 3.7 4.1 4.1c2.1.4 4.5-.7 5.5-2.6 1-1.9.6-4.4-1-5.9-2-1.8-4.5-1.7-6.1-.8"
          />
          <path d="M15.4 232.2c-2.2 1.3-3.4 3.8-2.9 6.2.4 2.4 2.5 4.4 4.9 4.8 2.4.4 5.1-.7 6.3-2.9 1.3-2.2.9-5-.7-6.9-1.9-2.1-5.1-2.6-7.6-1.2-1 .6-.1 2.2 1 1.6 1.5-.9 3.3-.7 4.7.4 1.4 1.1 1.9 3 1.2 4.7-.6 1.5-2.3 2.5-3.8 2.5-1.7 0-3.3-1.1-3.9-2.7-.7-1.8.2-3.9 1.9-4.9.9-.5 0-2.2-1.1-1.6z" />
          <g>
            <path
              className="prefix__st3"
              d="M15 233.7c2.2 2.5 4.4 5.1 6.7 7.6"
            />
            <path d="M14.3 234.4c2.2 2.5 4.4 5.1 6.7 7.6.3.4 1 .3 1.3 0 .4-.4.3-1 0-1.3-2.2-2.5-4.4-5.1-6.7-7.6-.3-.4-1-.3-1.3 0-.4.3-.3.9 0 1.3z" />
          </g>
        </g>
        <g>
          <path d="M291.3 248.4H27.2c-2.5 0-5 .2-7.5-.1-7-.7-12.2-6.8-12.3-13.7v-2.7-16.1-27-33.7-36.7-35.6-30.4-21.5-8.5c.1-7.6 6.2-13.7 13.7-13.7h268.7c1.2 0 2.4 0 3.6.2 6.7 1.1 11.4 6.9 11.5 13.6v212.2c0 7.5-6.1 13.6-13.6 13.7-2 0-2 3.2 0 3.1 8.6-.1 15.9-6.6 16.8-15.2.1-1.2.1-2.3.1-3.5V218v-26.2-33.6-36.9-36.1V54 31.7v-9.3c-.1-7.1-4.5-13.5-11.2-16-2.1-.8-4.4-1-6.6-1h-270c-8.6.5-15.5 7.4-16 16-.2 2.9 0 5.8 0 8.6v204.5c.1 7.5 5 14.2 12.2 16.2 3.2.9 6.7.7 10 .7H291.5c1.8.2 1.8-3-.2-3z" />
        </g>
        <g>
          <path d="M119.3 56.5c-.5 0-.8-.1-1.1-.4s-.4-.6-.4-1.1.1-.8.4-1.1.6-.4 1.1-.4.8.1 1.1.4c.3.3.4.6.4 1.1s-.1.8-.4 1.1-.6.4-1.1.4zm0 9.1c-.5 0-.9-.2-1.2-.5-.3-.3-.4-.8-.3-1.3l.6-5.4c.1-.6.4-1 .9-1s.8.3.9 1l.5 5.4c.1.5 0 .9-.3 1.3-.2.3-.6.5-1.1.5zM126.8 62.4c-.4 0-.8-.1-1-.4s-.4-.6-.4-1.1v-4.3l-3.6-5.1c-.2-.2-.2-.5-.2-.8s.1-.5.4-.7.5-.3.9-.3c.6 0 1 .3 1.4.9l2.5 3.7 2.5-3.7c.2-.3.4-.5.7-.7.2-.1.5-.2.8-.2.4 0 .7.1.9.3s.3.4.3.7-.1.6-.3.9l-3.6 5.1V61c0 .9-.4 1.4-1.3 1.4zM138.9 62.4c-1.8 0-3.1-.5-4-1.4s-1.4-2.2-1.4-4v-6c0-.4.1-.8.4-1 .2-.2.6-.4 1-.4.9 0 1.4.5 1.4 1.4v6c0 1 .2 1.8.7 2.3s1.1.8 2 .8c1.8 0 2.7-1 2.7-3v-6c0-.9.5-1.4 1.4-1.4.4 0 .8.1 1 .4.2.2.3.6.3 1v6c0 1.8-.5 3.1-1.4 4s-2.4 1.3-4.1 1.3zM146 62.4c-.4 0-.7-.1-.9-.3s-.3-.5-.3-.9c0-.3.1-.5.2-.7.2-.2.4-.3.7-.3h.5c.9-.1 1.4-.6 1.4-1.5v-7.6c0-.4.1-.8.4-1 .2-.2.6-.4 1-.4.9 0 1.4.5 1.4 1.4v7.6c0 2.3-1.2 3.6-3.7 3.7h-.7zM158.1 62.4c-1.8 0-3.1-.5-4-1.4s-1.4-2.2-1.4-4v-6c0-.4.1-.8.4-1 .2-.2.6-.4 1-.4.9 0 1.4.5 1.4 1.4v6c0 1 .2 1.8.7 2.3s1.1.8 2 .8c1.8 0 2.7-1 2.7-3v-6c0-.9.5-1.4 1.4-1.4.4 0 .8.1 1 .4.2.2.3.6.3 1v6c0 1.8-.5 3.1-1.4 4s-2.3 1.3-4.1 1.3zM171.2 62.4c-1.8 0-3.1-.5-4-1.4s-1.4-2.2-1.4-4v-6c0-.4.1-.8.4-1 .2-.2.6-.4 1-.4.9 0 1.4.5 1.4 1.4v6c0 1 .2 1.8.7 2.3s1.1.8 2 .8c1.8 0 2.7-1 2.7-3v-6c0-.9.5-1.4 1.4-1.4.4 0 .8.1 1 .4.2.2.3.6.3 1v6c0 1.8-.5 3.1-1.4 4s-2.3 1.3-4.1 1.3zM184.3 62.4c-1.8 0-3.1-.5-4-1.4s-1.4-2.2-1.4-4v-6c0-.4.1-.8.4-1 .2-.2.6-.4 1-.4.9 0 1.4.5 1.4 1.4v6c0 1 .2 1.8.7 2.3s1.1.8 2 .8c1.8 0 2.7-1 2.7-3v-6c0-.9.5-1.4 1.4-1.4.4 0 .8.1 1 .4.2.2.3.6.3 1v6c0 1.8-.5 3.1-1.4 4s-2.4 1.3-4.1 1.3zM193.1 62.3c-.5 0-.8-.1-1.1-.4-.3-.3-.4-.6-.4-1.1 0-.4.1-.8.4-1.1.3-.3.6-.4 1.1-.4s.8.1 1.1.4c.3.3.4.6.4 1.1 0 .4-.1.8-.4 1.1-.2.3-.6.4-1.1.4zm0-3.9c-.6 0-.9-.3-.9-1l-.6-6c-.1-.5 0-.9.3-1.3.3-.3.7-.5 1.2-.5s.9.2 1.1.5c.3.3.4.8.3 1.3l-.6 6c0 .7-.3 1-.8 1zM48.2 86.3c-.5 0-.8-.2-1.1-.5-.2-.3-.2-.7 0-1.2l4.5-9.9c.2-.4.4-.7.7-.9s.6-.3.9-.3.6.1.9.3.5.5.7.9l4.5 9.9c.2.5.2.9 0 1.2-.2.3-.5.5-1 .5-.4 0-.7-.1-.9-.3-.2-.2-.4-.5-.6-.9l-.7-1.7h-5.8l-.7 1.7c-.2.4-.4.7-.6.9-.1.2-.4.3-.8.3zm5-9.7l-2 4.7h4l-2-4.7zM62.3 86.3c-.9 0-1.3-.5-1.3-1.4v-10c0-.9.4-1.4 1.3-1.4s1.3.5 1.3 1.4v3.8c.3-.4.7-.8 1.2-1s1-.3 1.6-.3c2 0 3 1.2 3 3.6v4c0 .9-.4 1.4-1.3 1.4-.4 0-.7-.1-1-.4s-.3-.6-.3-1v-3.9c0-.6-.1-1-.3-1.3-.2-.3-.6-.4-1-.4-.6 0-1 .2-1.3.5-.3.4-.5.8-.5 1.4V85c-.1.9-.6 1.3-1.4 1.3zM75.6 86.4c-.9 0-1.7-.2-2.4-.6-.7-.4-1.2-.9-1.6-1.6s-.6-1.5-.6-2.4.2-1.7.6-2.4c.4-.7.9-1.2 1.6-1.6s1.5-.5 2.4-.5 1.7.2 2.4.5c.7.4 1.2.9 1.6 1.6s.6 1.5.6 2.4-.2 1.7-.6 2.4c-.4.7-.9 1.2-1.6 1.6-.7.4-1.5.6-2.4.6zm0-2c.6 0 1-.2 1.4-.6s.5-1.1.5-1.9c0-.9-.2-1.5-.5-1.9-.4-.4-.8-.6-1.4-.6s-1 .2-1.4.6-.5 1-.5 1.9.2 1.5.5 1.9c.3.4.8.6 1.4.6zM83.2 86.3c-.9 0-1.4-.5-1.4-1.4v-6.3c0-.9.4-1.3 1.3-1.3s1.3.4 1.3 1.3v.4c.4-1 1.3-1.6 2.6-1.7.3 0 .5.1.7.2.2.2.2.4.3.8 0 .4-.1.7-.2.9-.2.2-.5.3-.9.4h-.4c-1.3.1-2 .8-2 2V85c0 .9-.5 1.3-1.3 1.3zM91.9 86.4c-.6 0-1.2-.1-1.7-.4s-.9-.6-1.2-1c-.3-.4-.4-.9-.4-1.4 0-.6.2-1.1.5-1.5s.9-.6 1.6-.8c.7-.2 1.7-.2 2.9-.2h.6v-.3c0-.5-.1-.9-.4-1.1s-.6-.3-1.2-.3c-.3 0-.7 0-1 .1-.4.1-.8.2-1.2.4-.3.1-.6.1-.8 0s-.4-.3-.4-.6c-.1-.3 0-.5.1-.8s.3-.4.7-.6c.6-.2 1.1-.4 1.6-.4.5-.1.9-.1 1.3-.1 1.3 0 2.3.3 3 .9s1 1.5 1 2.8V85c0 .9-.4 1.4-1.2 1.4-.8 0-1.3-.5-1.3-1.4v-.1c-.2.5-.5.8-.9 1.1s-1 .4-1.6.4zm.6-1.8c.5 0 .9-.2 1.3-.5.3-.3.5-.8.5-1.3v-.4h-.6c-.9 0-1.5.1-1.9.2-.4.2-.6.4-.6.8 0 .3.1.6.3.8s.5.4 1 .4zM108.2 86.4c-1 0-1.9-.2-2.6-.6s-1.3-.9-1.7-1.6c-.4-.7-.6-1.5-.6-2.4s.2-1.7.6-2.4c.4-.7.9-1.2 1.6-1.6s1.4-.6 2.3-.6c1.3 0 2.3.4 3 1.2.7.8 1.1 1.9 1.1 3.2 0 .4-.3.7-.8.7h-5.2c.1.7.3 1.2.7 1.5.4.3 1 .5 1.7.5.3 0 .6 0 1-.1s.7-.2 1-.3c.3-.2.6-.2.9-.1s.4.3.5.5.1.5 0 .7c-.1.3-.3.5-.6.6-.4.2-.9.4-1.4.5-.6.2-1.1.3-1.5.3zm-.4-7.3c-.6 0-1 .2-1.4.5-.3.3-.6.8-.6 1.4h3.8c-.1-1.3-.7-1.9-1.8-1.9zM116.7 86.4c-.5 0-1 0-1.6-.1-.5-.1-1-.3-1.5-.5-.3-.2-.5-.3-.6-.6s-.1-.5 0-.7.2-.4.4-.5c.2-.1.5-.1.7 0 .5.2.9.3 1.3.4s.8.1 1.2.1c.5 0 .9-.1 1.1-.2.2-.2.4-.4.4-.6 0-.4-.3-.7-.9-.8l-1.9-.3c-.7-.1-1.3-.4-1.7-.8s-.6-.9-.6-1.6c0-.6.2-1.1.5-1.5s.8-.8 1.4-1 1.2-.4 2-.4c1 0 1.9.2 2.7.6.3.1.4.3.5.5s0 .5 0 .7c-.1.2-.2.4-.5.5-.2.1-.5.1-.8 0-.4-.2-.7-.3-1.1-.4-.3-.1-.6-.1-.9-.1-.5 0-.9.1-1.1.3-.2.2-.4.4-.4.6 0 .4.3.7.8.8l1.8.3c.8.1 1.3.4 1.7.8.4.4.6.9.6 1.6 0 .9-.4 1.6-1.1 2.1-.4.5-1.3.8-2.4.8zM123.4 89.5c-.9 0-1.3-.5-1.3-1.4v-9.4c0-.9.4-1.3 1.3-1.3s1.3.4 1.3 1.3v.1c.2-.4.6-.8 1.1-1 .5-.3 1-.4 1.6-.4.8 0 1.4.2 2 .5.6.4 1 .9 1.3 1.6s.5 1.5.5 2.4-.2 1.7-.5 2.4-.8 1.2-1.3 1.6c-.6.4-1.2.6-2 .6-.6 0-1.1-.1-1.6-.4s-.8-.6-1.1-1v3.1c0 .8-.5 1.3-1.3 1.3zm3.2-5.1c.6 0 1-.2 1.4-.6.4-.4.5-1.1.5-1.9 0-.9-.2-1.5-.5-1.9-.4-.4-.8-.6-1.4-.6s-1 .2-1.4.6-.5 1-.5 1.9.2 1.5.5 1.9c.3.4.8.6 1.4.6zM137.3 86.4c-1 0-1.9-.2-2.6-.6-.7-.4-1.3-.9-1.7-1.6s-.6-1.5-.6-2.4.2-1.7.6-2.4c.4-.7.9-1.2 1.6-1.6.7-.4 1.4-.6 2.3-.6 1.3 0 2.3.4 3 1.2.7.8 1.1 1.9 1.1 3.2 0 .4-.3.7-.8.7H135c.1.7.3 1.2.7 1.5s1 .5 1.7.5c.3 0 .6 0 1-.1s.7-.2 1-.3c.3-.2.6-.2.9-.1.2.1.4.3.5.5s.1.5 0 .7c-.1.3-.3.5-.6.6-.4.2-.9.4-1.4.5-.6.2-1.1.3-1.5.3zm-.4-7.3c-.6 0-1 .2-1.4.5-.3.3-.6.8-.6 1.4h3.8c-.1-1.3-.7-1.9-1.8-1.9zM143.8 86.3c-.9 0-1.4-.5-1.4-1.4v-6.3c0-.9.4-1.3 1.3-1.3s1.3.4 1.3 1.3v.4c.4-1 1.3-1.6 2.6-1.7.3 0 .5.1.7.2.2.2.2.4.3.8 0 .4 0 .7-.2.9-.2.2-.5.3-.9.4h-.4c-1.3.1-2 .8-2 2V85c0 .9-.4 1.3-1.3 1.3zM154 86.4c-1 0-1.9-.2-2.6-.6-.7-.4-1.3-.9-1.7-1.6s-.6-1.5-.6-2.4.2-1.7.6-2.4c.4-.7.9-1.2 1.6-1.6.7-.4 1.4-.6 2.3-.6 1.3 0 2.3.4 3 1.2.7.8 1.1 1.9 1.1 3.2 0 .4-.3.7-.8.7h-5.2c.1.7.3 1.2.7 1.5s1 .5 1.7.5c.3 0 .6 0 1-.1s.7-.2 1-.3c.3-.2.6-.2.9-.1.2.1.4.3.5.5s.1.5 0 .7c-.1.3-.3.5-.6.6-.4.2-.9.4-1.4.5s-1 .3-1.5.3zm-.3-7.3c-.6 0-1 .2-1.4.5-.3.3-.6.8-.6 1.4h3.8c-.1-1.3-.7-1.9-1.8-1.9zM160.6 86.3c-.9 0-1.3-.5-1.3-1.4v-6.3c0-.9.4-1.3 1.3-1.3s1.3.4 1.3 1.3v.1c.3-.4.6-.8 1.1-1s1-.4 1.6-.4 1.1.1 1.6.4.8.7 1 1.2c.3-.5.7-.9 1.2-1.2.5-.3 1.1-.4 1.7-.4 1 0 1.7.3 2.2.9s.7 1.5.7 2.7v4c0 .4-.1.8-.3 1s-.6.4-1 .4c-.9 0-1.3-.5-1.3-1.4V81c0-.6-.1-1-.3-1.3s-.5-.4-.9-.4c-.5 0-.9.2-1.2.5-.3.4-.4.9-.4 1.5V85c0 .9-.4 1.4-1.3 1.4-.4 0-.8-.1-1-.4s-.4-.6-.4-1v-4c0-.6-.1-1-.3-1.3s-.5-.4-.9-.4c-.5 0-.9.2-1.2.5-.3.4-.4.9-.4 1.5V85c-.2.9-.6 1.3-1.5 1.3zM179 86.4c-.9 0-1.7-.2-2.4-.6s-1.2-.9-1.6-1.6c-.4-.7-.6-1.5-.6-2.4s.2-1.7.6-2.4c.4-.7.9-1.2 1.6-1.6.7-.4 1.5-.5 2.4-.5s1.7.2 2.4.5c.7.4 1.2.9 1.6 1.6.4.7.6 1.5.6 2.4s-.2 1.7-.6 2.4c-.4.7-.9 1.2-1.6 1.6-.6.4-1.5.6-2.4.6zm0-2c.6 0 1-.2 1.4-.6s.5-1.1.5-1.9c0-.9-.2-1.5-.5-1.9-.4-.4-.8-.6-1.4-.6-.6 0-1 .2-1.4.6s-.5 1-.5 1.9.2 1.5.5 1.9c.4.4.9.6 1.4.6zM188.6 86.4c-.5 0-1 0-1.6-.1s-1-.3-1.5-.5c-.3-.2-.5-.3-.6-.6-.1-.2-.1-.5 0-.7s.2-.4.4-.5.5-.1.7 0c.5.2.9.3 1.3.4.4.1.8.1 1.2.1.5 0 .9-.1 1.1-.2.2-.2.4-.4.4-.6 0-.4-.3-.7-.9-.8l-1.8-.3c-.7-.1-1.3-.4-1.7-.8s-.6-.9-.6-1.6c0-.6.2-1.1.5-1.5s.8-.8 1.4-1c.6-.2 1.2-.4 2-.4 1 0 1.9.2 2.7.6.3.1.4.3.5.5s0 .5 0 .7c-.1.2-.2.4-.5.5-.2.1-.5.1-.8 0-.4-.2-.7-.3-1.1-.4-.3-.1-.6-.1-.9-.1-.5 0-.9.1-1.1.3-.2.2-.4.4-.4.6 0 .4.3.7.8.8l1.8.3c.8.1 1.3.4 1.7.8s.6.9.6 1.6c0 .9-.4 1.6-1.1 2.1-.5.5-1.4.8-2.5.8zM201.7 86.4c-.6 0-1.2-.1-1.7-.4s-.9-.6-1.2-1-.4-.9-.4-1.4c0-.6.2-1.1.5-1.5s.9-.6 1.6-.8c.7-.2 1.7-.2 2.9-.2h.6v-.3c0-.5-.1-.9-.4-1.1s-.6-.3-1.2-.3c-.3 0-.7 0-1 .1-.4.1-.8.2-1.2.4-.3.1-.6.1-.8 0s-.4-.3-.4-.6c-.1-.3-.1-.5.1-.8.1-.3.3-.4.7-.6.6-.2 1.1-.4 1.6-.4.5-.1.9-.1 1.3-.1 1.3 0 2.3.3 3 .9s1 1.5 1 2.8V85c0 .9-.4 1.4-1.2 1.4s-1.3-.5-1.3-1.4v-.1c-.2.5-.5.8-.9 1.1s-1 .4-1.6.4zm.6-1.8c.5 0 .9-.2 1.3-.5.3-.3.5-.8.5-1.3v-.4h-.6c-.9 0-1.5.1-1.9.2-.4.2-.6.4-.6.8 0 .3.1.6.3.8.3.3.6.4 1 .4zM220.9 89.5c-.9 0-1.3-.5-1.3-1.4V85c-.2.4-.6.7-1.1 1s-1 .4-1.6.4c-.8 0-1.4-.2-2-.6s-1-.9-1.3-1.6-.5-1.5-.5-2.4.2-1.7.5-2.4.8-1.2 1.3-1.6c.6-.4 1.2-.5 2-.5.6 0 1.1.1 1.6.4s.8.6 1.1 1v-.1c0-.9.4-1.3 1.3-1.3s1.3.4 1.3 1.3V88c0 1-.4 1.5-1.3 1.5zm-3.2-5.1c.6 0 1-.2 1.4-.6s.5-1.1.5-1.9c0-.9-.2-1.5-.5-1.9-.4-.4-.8-.6-1.4-.6-.6 0-1 .2-1.4.6s-.5 1-.5 1.9.2 1.5.5 1.9c.4.4.8.6 1.4.6zM227.5 86.4c-1.1 0-1.9-.3-2.4-.9s-.8-1.5-.8-2.7v-4c0-.9.4-1.3 1.3-1.3s1.3.4 1.3 1.3v4.1c0 1 .4 1.5 1.3 1.5.5 0 .9-.2 1.2-.5.3-.4.5-.8.5-1.4v-3.6c0-.9.4-1.3 1.3-1.3s1.3.4 1.3 1.3V85c0 .9-.4 1.4-1.3 1.4-.4 0-.7-.1-1-.4-.2-.2-.3-.6-.3-1-.4.9-1.3 1.4-2.4 1.4zM239.2 86.4c-1 0-1.9-.2-2.6-.6-.7-.4-1.3-.9-1.7-1.6s-.6-1.5-.6-2.4.2-1.7.6-2.4c.4-.7.9-1.2 1.6-1.6.7-.4 1.4-.6 2.3-.6 1.3 0 2.3.4 3 1.2.7.8 1.1 1.9 1.1 3.2 0 .4-.3.7-.8.7h-5.2c.1.7.3 1.2.7 1.5s1 .5 1.7.5c.3 0 .6 0 1-.1s.7-.2 1-.3c.3-.2.6-.2.9-.1.2.1.4.3.5.5s.1.5 0 .7c-.1.3-.3.5-.6.6-.4.2-.9.4-1.4.5s-1.1.3-1.5.3zm-.4-7.3c-.6 0-1 .2-1.4.5-.3.3-.6.8-.6 1.4h3.8c-.1-1.3-.7-1.9-1.8-1.9zM253.5 86.4c-2.4 0-3.6-1.2-3.6-3.5v-3.3h-.7c-.7 0-1-.3-1-1s.3-1 1-1h.7v-1.3c0-.9.4-1.4 1.3-1.4s1.3.5 1.3 1.4v1.3h1.7c.7 0 1 .3 1 1s-.3 1-1 1h-1.7v3.2c0 .5.1.9.3 1.1s.6.4 1.1.4c.2 0 .3 0 .5-.1.2 0 .3-.1.4-.1.2 0 .3 0 .4.2.1.1.2.4.2.7 0 .3 0 .5-.1.7s-.3.4-.5.4c-.2.1-.4.1-.6.1-.3.1-.5.2-.7.2zM259.6 86.4c-1.1 0-1.9-.3-2.4-.9s-.8-1.5-.8-2.7v-4c0-.9.4-1.3 1.3-1.3s1.3.4 1.3 1.3v4.1c0 1 .4 1.5 1.3 1.5.5 0 .9-.2 1.2-.5.3-.4.5-.8.5-1.4v-3.6c0-.9.4-1.3 1.3-1.3s1.3.4 1.3 1.3V85c0 .9-.4 1.4-1.3 1.4-.4 0-.7-.1-1-.4-.2-.2-.3-.6-.3-1-.4.9-1.3 1.4-2.4 1.4zM49.8 113.4c-.9 0-1.3-.5-1.3-1.4v-9.4c0-.9.4-1.3 1.3-1.3s1.3.4 1.3 1.3v.1c.2-.4.6-.8 1.1-1 .5-.3 1-.4 1.6-.4.8 0 1.4.2 2 .5.6.4 1 .9 1.3 1.6s.5 1.5.5 2.4-.2 1.7-.5 2.4-.8 1.2-1.3 1.6c-.6.4-1.2.6-2 .6-.6 0-1.1-.1-1.6-.4s-.8-.6-1.1-1v3.1c0 .8-.5 1.3-1.3 1.3zm3.2-5.1c.6 0 1-.2 1.4-.6s.5-1.1.5-1.9c0-.9-.2-1.5-.5-1.9-.4-.4-.8-.6-1.4-.6-.6 0-1 .2-1.4.6s-.5 1-.5 1.9.2 1.5.5 1.9c.3.4.8.6 1.4.6zM60.5 110.2c-.9 0-1.4-.5-1.4-1.4v-6.3c0-.9.4-1.3 1.3-1.3s1.3.4 1.3 1.3v.3c.4-1 1.3-1.6 2.6-1.7.3 0 .5.1.7.2.2.2.2.4.3.8 0 .4-.1.7-.2.9-.2.2-.5.3-.9.4h-.4c-1.3.1-2 .8-2 2v3.3c.1 1.1-.4 1.5-1.3 1.5zM70.4 110.3c-.9 0-1.7-.2-2.4-.6-.7-.4-1.2-.9-1.6-1.6s-.6-1.5-.6-2.4.2-1.7.6-2.4c.4-.7.9-1.2 1.6-1.6s1.5-.5 2.4-.5 1.7.2 2.4.5c.7.4 1.2.9 1.6 1.6s.6 1.5.6 2.4-.2 1.7-.6 2.4c-.4.7-.9 1.2-1.6 1.6-.6.4-1.5.6-2.4.6zm0-2c.6 0 1-.2 1.4-.6s.5-1.1.5-1.9c0-.9-.2-1.5-.5-1.9-.4-.4-.8-.6-1.4-.6s-1 .2-1.4.6-.5 1-.5 1.9.2 1.5.5 1.9c.4.4.9.6 1.4.6zM78.6 110.2c-.4 0-.8-.1-1-.4s-.3-.6-.3-1v-5.5h-.6c-.7 0-1-.3-1-1s.3-1 1-1h.6c0-1.2.3-2.1 1-2.7.6-.6 1.5-1 2.7-1.1l.6-.1c.4 0 .7 0 .9.2s.3.4.3.7c0 .3 0 .5-.2.7-.1.2-.3.3-.6.3h-.2c-.6 0-1.1.2-1.4.4-.3.3-.4.6-.4 1.2v.3h1.3c.7 0 1 .3 1 1s-.3 1-1 1H80v5.5c-.1 1.1-.6 1.5-1.4 1.5zM87.6 110.3c-1 0-1.9-.2-2.6-.6s-1.3-.9-1.7-1.6c-.4-.7-.6-1.5-.6-2.4s.2-1.7.6-2.4c.4-.7.9-1.2 1.6-1.6s1.4-.6 2.3-.6c1.3 0 2.3.4 3 1.2.7.8 1.1 1.9 1.1 3.2 0 .4-.3.7-.8.7h-5.2c.1.7.3 1.2.7 1.5.4.3 1 .5 1.7.5.3 0 .6 0 1-.1s.7-.2 1-.3c.3-.2.6-.2.9-.1s.4.3.5.5.1.5 0 .7c-.1.3-.3.5-.6.6-.4.2-.9.4-1.4.5-.6.2-1.1.3-1.5.3zm-.4-7.3c-.6 0-1 .2-1.4.5-.3.3-.6.8-.6 1.4H89c-.1-1.3-.7-1.9-1.8-1.9zM100.6 110.3c-.6 0-1.2-.1-1.7-.4s-.9-.6-1.2-1c-.3-.4-.4-.9-.4-1.4 0-.6.2-1.1.5-1.5s.9-.6 1.6-.8c.7-.2 1.7-.2 2.9-.2h.6v-.3c0-.5-.1-.9-.4-1.1s-.6-.3-1.2-.3c-.3 0-.7 0-1 .1-.4.1-.8.2-1.2.4-.3.1-.6.1-.8 0s-.4-.3-.4-.6c-.1-.3 0-.5.1-.8s.3-.4.7-.6c.6-.2 1.1-.4 1.6-.4.5-.1.9-.1 1.3-.1 1.3 0 2.3.3 3 .9s1 1.5 1 2.8v3.9c0 .9-.4 1.4-1.2 1.4-.8 0-1.3-.5-1.3-1.4v-.1c-.2.5-.5.8-.9 1.1s-1 .4-1.6.4zm.6-1.8c.5 0 .9-.2 1.3-.5.3-.3.5-.8.5-1.3v-.4h-.6c-.9 0-1.5.1-1.9.2-.4.2-.6.4-.6.8 0 .3.1.6.3.8s.5.4 1 .4zM108.8 113.4c-.9 0-1.3-.5-1.3-1.4v-9.4c0-.9.4-1.3 1.3-1.3s1.3.4 1.3 1.3v.1c.2-.4.6-.8 1.1-1 .5-.3 1-.4 1.6-.4.8 0 1.4.2 2 .5.6.4 1 .9 1.3 1.6s.5 1.5.5 2.4-.2 1.7-.5 2.4-.8 1.2-1.3 1.6c-.6.4-1.2.6-2 .6-.6 0-1.1-.1-1.6-.4s-.8-.6-1.1-1v3.1c0 .8-.4 1.3-1.3 1.3zm3.2-5.1c.6 0 1-.2 1.4-.6s.5-1.1.5-1.9c0-.9-.2-1.5-.5-1.9-.4-.4-.8-.6-1.4-.6s-1 .2-1.4.6-.5 1-.5 1.9.2 1.5.5 1.9c.4.4.8.6 1.4.6zM119.6 110.2c-.9 0-1.4-.5-1.4-1.4v-6.3c0-.9.4-1.3 1.3-1.3s1.3.4 1.3 1.3v.3c.4-1 1.3-1.6 2.6-1.7.3 0 .5.1.7.2.2.2.2.4.3.8 0 .4-.1.7-.2.9-.2.2-.5.3-.9.4h-.4c-1.3.1-2 .8-2 2v3.3c0 1.1-.4 1.5-1.3 1.5zM128.7 110.3c-1.1 0-1.9-.3-2.4-.9s-.8-1.5-.8-2.7v-4c0-.9.4-1.3 1.3-1.3s1.3.4 1.3 1.3v4.1c0 1 .4 1.5 1.3 1.5.5 0 .9-.2 1.2-.5.3-.4.5-.8.5-1.4v-3.6c0-.9.4-1.3 1.3-1.3s1.3.4 1.3 1.3v6.3c0 .9-.4 1.4-1.3 1.4-.4 0-.7-.1-1-.4s-.3-.6-.3-1c-.5.7-1.3 1.2-2.4 1.2zM140.4 110.3c-1 0-1.9-.2-2.6-.6-.7-.4-1.3-.9-1.7-1.6s-.6-1.5-.6-2.4.2-1.7.6-2.4c.4-.7.9-1.2 1.6-1.6.7-.4 1.4-.6 2.3-.6 1.3 0 2.3.4 3 1.2.7.8 1.1 1.9 1.1 3.2 0 .4-.3.7-.8.7H138c.1.7.3 1.2.7 1.5s1 .5 1.7.5c.3 0 .6 0 1-.1s.7-.2 1-.3c.3-.2.6-.2.9-.1.2.1.4.3.5.5s.1.5 0 .7c-.1.3-.3.5-.6.6-.4.2-.9.4-1.4.5-.5.2-1 .3-1.4.3zm-.4-7.3c-.6 0-1 .2-1.4.5-.3.3-.6.8-.6 1.4h3.8c-.1-1.3-.7-1.9-1.8-1.9zM150.9 110.3c-.6 0-1.1-.1-1.6-.4s-.8-.6-1.1-1.1v.1c0 .9-.4 1.4-1.3 1.4s-1.3-.5-1.3-1.4v-10c0-.9.4-1.4 1.3-1.4s1.3.5 1.3 1.4v3.7c.3-.4.6-.7 1.1-1s1-.4 1.6-.4c.8 0 1.4.2 2 .5.6.4 1 .9 1.3 1.6s.5 1.5.5 2.4-.2 1.7-.5 2.4-.8 1.2-1.3 1.6c-.6.4-1.3.6-2 .6zm-.8-2c.6 0 1-.2 1.4-.6s.5-1.1.5-1.9c0-.9-.2-1.5-.5-1.9-.4-.4-.8-.6-1.4-.6-.6 0-1 .2-1.4.6s-.5 1-.5 1.9.2 1.5.5 1.9c.3.4.8.6 1.4.6zM160.8 110.3c-1 0-1.9-.2-2.6-.6-.7-.4-1.3-.9-1.7-1.6s-.6-1.5-.6-2.4.2-1.7.6-2.4c.4-.7.9-1.2 1.6-1.6.7-.4 1.4-.6 2.3-.6 1.3 0 2.3.4 3 1.2.7.8 1.1 1.9 1.1 3.2 0 .4-.3.7-.8.7h-5.2c.1.7.3 1.2.7 1.5s1 .5 1.7.5c.3 0 .6 0 1-.1s.7-.2 1-.3c.3-.2.6-.2.9-.1.2.1.4.3.5.5s.1.5 0 .7c-.1.3-.3.5-.6.6-.4.2-.9.4-1.4.5s-1.1.3-1.5.3zm-.4-7.3c-.6 0-1 .2-1.4.5-.3.3-.6.8-.6 1.4h3.8c-.1-1.3-.7-1.9-1.8-1.9zM175.1 110.3c-2.4 0-3.6-1.2-3.6-3.5v-3.3h-.7c-.7 0-1-.3-1-1s.3-1 1-1h.7v-1.3c0-.9.4-1.4 1.3-1.4s1.3.5 1.3 1.4v1.3h1.7c.7 0 1 .3 1 1s-.3 1-1 1h-1.7v3.2c0 .5.1.9.3 1.1s.6.4 1.1.4c.2 0 .3 0 .5-.1.2 0 .3-.1.4-.1.2 0 .3 0 .4.2.1.1.2.4.2.7 0 .3 0 .5-.1.7s-.3.4-.5.4c-.2.1-.4.1-.6.1-.3.1-.5.2-.7.2zM181.2 110.3c-1.1 0-1.9-.3-2.4-.9s-.8-1.5-.8-2.7v-4c0-.9.4-1.3 1.3-1.3s1.3.4 1.3 1.3v4.1c0 1 .4 1.5 1.3 1.5.5 0 .9-.2 1.2-.5.3-.4.5-.8.5-1.4v-3.6c0-.9.4-1.3 1.3-1.3s1.3.4 1.3 1.3v6.3c0 .9-.4 1.4-1.3 1.4-.4 0-.7-.1-1-.4-.2-.2-.3-.6-.3-1-.5.7-1.3 1.2-2.4 1.2zM194.6 113.4c-.9 0-1.3-.5-1.3-1.4v-9.4c0-.9.4-1.3 1.3-1.3s1.3.4 1.3 1.3v.1c.2-.4.6-.8 1.1-1s1-.4 1.6-.4c.8 0 1.4.2 2 .5.6.4 1 .9 1.3 1.6s.5 1.5.5 2.4-.2 1.7-.5 2.4-.8 1.2-1.3 1.6c-.6.4-1.2.6-2 .6-.6 0-1.1-.1-1.6-.4s-.8-.6-1.1-1v3.1c.1.8-.4 1.3-1.3 1.3zm3.2-5.1c.6 0 1-.2 1.4-.6s.5-1.1.5-1.9c0-.9-.2-1.5-.5-1.9-.4-.4-.8-.6-1.4-.6-.6 0-1 .2-1.4.6s-.5 1-.5 1.9.2 1.5.5 1.9c.4.4.9.6 1.4.6zM205.4 110.2c-.9 0-1.4-.5-1.4-1.4v-6.3c0-.9.4-1.3 1.3-1.3s1.3.4 1.3 1.3v.3c.4-1 1.3-1.6 2.6-1.7.3 0 .5.1.7.2.2.2.2.4.3.8 0 .4 0 .7-.2.9-.2.2-.5.3-.9.4h-.4c-1.3.1-2 .8-2 2v3.3c0 1.1-.4 1.5-1.3 1.5zM215.3 110.3c-.9 0-1.7-.2-2.4-.6s-1.2-.9-1.6-1.6c-.4-.7-.6-1.5-.6-2.4s.2-1.7.6-2.4c.4-.7.9-1.2 1.6-1.6.7-.4 1.5-.5 2.4-.5s1.7.2 2.4.5c.7.4 1.2.9 1.6 1.6.4.7.6 1.5.6 2.4s-.2 1.7-.6 2.4c-.4.7-.9 1.2-1.6 1.6-.7.4-1.5.6-2.4.6zm0-2c.6 0 1-.2 1.4-.6s.5-1.1.5-1.9c0-.9-.2-1.5-.5-1.9-.4-.4-.8-.6-1.4-.6-.6 0-1 .2-1.4.6s-.5 1-.5 1.9.2 1.5.5 1.9c.4.4.8.6 1.4.6zM223.7 113.4c-.5 0-.8-.2-1-.5s-.2-.7 0-1.2l.9-2.1-2.9-6.6c-.2-.5-.2-.9 0-1.2.2-.3.6-.5 1.2-.5.3 0 .6.1.8.2s.4.4.5.8l1.8 4.6 1.9-4.6c.2-.4.3-.7.6-.8.2-.1.5-.2.8-.2.4 0 .8.2.9.5.2.3.2.7 0 1.2l-4.1 9.4c-.2.4-.4.7-.6.8-.2.1-.5.2-.8.2zM235 110.3c-1 0-1.9-.2-2.6-.6-.7-.4-1.3-.9-1.7-1.6s-.6-1.5-.6-2.4.2-1.7.6-2.4c.4-.7.9-1.2 1.6-1.6.7-.4 1.4-.6 2.3-.6 1.3 0 2.3.4 3 1.2.7.8 1.1 1.9 1.1 3.2 0 .4-.3.7-.8.7h-5.2c.1.7.3 1.2.7 1.5s1 .5 1.7.5c.3 0 .6 0 1-.1s.7-.2 1-.3c.3-.2.6-.2.9-.1.2.1.4.3.5.5s.1.5 0 .7c-.1.3-.3.5-.6.6-.4.2-.9.4-1.4.5s-1.1.3-1.5.3zm-.4-7.3c-.6 0-1 .2-1.4.5-.3.3-.6.8-.6 1.4h3.8c-.1-1.3-.7-1.9-1.8-1.9zM244.4 110.3c-.9 0-1.8-.2-2.5-.6s-1.2-.9-1.6-1.6c-.4-.7-.6-1.5-.6-2.4s.2-1.7.6-2.4c.4-.7.9-1.2 1.6-1.5.7-.4 1.5-.5 2.5-.5.4 0 .8 0 1.2.1s.8.2 1.2.4c.3.1.5.3.5.6.1.3.1.5 0 .7s-.3.4-.5.5-.5.1-.8-.1c-.5-.2-.9-.4-1.4-.4-.7 0-1.2.2-1.6.6-.4.4-.6 1-.6 1.8s.2 1.4.6 1.8c.4.4.9.7 1.6.7.2 0 .4 0 .7-.1.2-.1.5-.1.7-.3.3-.2.5-.2.8-.1.2.1.4.3.4.5.1.2.1.5 0 .7s-.2.5-.5.6c-.4.2-.8.3-1.2.4-.4.5-.8.6-1.1.6zM252.9 110.3c-2.4 0-3.6-1.2-3.6-3.5v-3.3h-.7c-.7 0-1-.3-1-1s.3-1 1-1h.7v-1.3c0-.9.4-1.4 1.3-1.4s1.3.5 1.3 1.4v1.3h1.7c.7 0 1 .3 1 1s-.3 1-1 1h-1.7v3.2c0 .5.1.9.3 1.1s.6.4 1.1.4c.2 0 .3 0 .5-.1.2 0 .3-.1.4-.1.2 0 .3 0 .4.2.1.1.2.4.2.7 0 .3 0 .5-.1.7s-.3.4-.5.4c-.2.1-.4.1-.6.1-.3.1-.5.2-.7.2zM259.8 110.3c-.9 0-1.7-.2-2.4-.6-.7-.4-1.2-.9-1.6-1.6s-.6-1.5-.6-2.4.2-1.7.6-2.4c.4-.7.9-1.2 1.6-1.6s1.5-.5 2.4-.5 1.7.2 2.4.5c.7.4 1.2.9 1.6 1.6s.6 1.5.6 2.4-.2 1.7-.6 2.4c-.4.7-.9 1.2-1.6 1.6-.7.4-1.5.6-2.4.6zm0-2c.6 0 1-.2 1.4-.6s.5-1.1.5-1.9c0-.9-.2-1.5-.5-1.9-.4-.4-.8-.6-1.4-.6s-1 .2-1.4.6-.5 1-.5 1.9.2 1.5.5 1.9c.4.4.8.6 1.4.6zM87.2 137.3c-.9 0-1.3-.5-1.3-1.4v-9.4c0-.9.4-1.3 1.3-1.3s1.3.4 1.3 1.3v.1c.2-.4.6-.8 1.1-1 .5-.3 1-.4 1.6-.4.8 0 1.4.2 2 .5.6.4 1 .9 1.3 1.6s.5 1.5.5 2.4-.2 1.7-.5 2.4-.8 1.2-1.3 1.6c-.6.4-1.2.6-2 .6-.6 0-1.1-.1-1.6-.4s-.8-.6-1.1-1v3.1c0 .8-.4 1.3-1.3 1.3zm3.2-5.1c.6 0 1-.2 1.4-.6.4-.4.5-1.1.5-1.9 0-.9-.2-1.5-.5-1.9-.4-.4-.8-.6-1.4-.6s-1 .2-1.4.6-.5 1-.5 1.9c0 .9.2 1.5.5 1.9.3.4.8.6 1.4.6zM99.5 134.2c-.6 0-1.2-.1-1.7-.4s-.9-.6-1.2-1c-.3-.4-.4-.9-.4-1.4 0-.6.2-1.1.5-1.5s.9-.6 1.6-.8 1.7-.2 2.9-.2h.6v-.3c0-.5-.1-.9-.4-1.1s-.6-.3-1.2-.3c-.3 0-.7 0-1 .1-.4.1-.8.2-1.2.4-.3.1-.6.1-.8 0s-.4-.3-.4-.6c-.1-.3 0-.5.1-.8s.3-.4.7-.6c.6-.2 1.1-.4 1.6-.4.5-.1.9-.1 1.3-.1 1.3 0 2.3.3 3 .9s1 1.5 1 2.8v3.9c0 .9-.4 1.4-1.2 1.4-.8 0-1.3-.5-1.3-1.4v-.1c-.2.5-.5.8-.9 1.1s-1 .4-1.6.4zm.6-1.8c.5 0 .9-.2 1.3-.5.3-.3.5-.8.5-1.3v-.4h-.6c-.9 0-1.5.1-1.9.2-.4.2-.6.4-.6.8 0 .3.1.6.3.8s.6.4 1 .4zM107.8 134.1c-.9 0-1.4-.5-1.4-1.4v-6.3c0-.9.4-1.3 1.3-1.3s1.3.4 1.3 1.3v.3c.4-1 1.3-1.6 2.6-1.7.3 0 .5.1.7.2.2.2.2.4.3.8 0 .4-.1.7-.2.9-.2.2-.5.3-.9.4h-.4c-1.3.1-2 .8-2 2v3.3c0 1.1-.4 1.5-1.3 1.5zM116.5 134.2c-.6 0-1.2-.1-1.7-.4s-.9-.6-1.2-1c-.3-.4-.4-.9-.4-1.4 0-.6.2-1.1.5-1.5s.9-.6 1.6-.8 1.7-.2 2.9-.2h.6v-.3c0-.5-.1-.9-.4-1.1s-.6-.3-1.2-.3c-.3 0-.7 0-1 .1-.4.1-.8.2-1.2.4-.3.1-.6.1-.8 0s-.4-.3-.4-.6c-.1-.3 0-.5.1-.8s.3-.4.7-.6c.6-.2 1.1-.4 1.6-.4.5-.1.9-.1 1.3-.1 1.3 0 2.3.3 3 .9s1 1.5 1 2.8v3.9c0 .9-.4 1.4-1.2 1.4-.8 0-1.3-.5-1.3-1.4v-.1c-.2.5-.5.8-.9 1.1s-1 .4-1.6.4zm.6-1.8c.5 0 .9-.2 1.3-.5.3-.3.5-.8.5-1.3v-.4h-.6c-.9 0-1.5.1-1.9.2-.4.2-.6.4-.6.8 0 .3.1.6.3.8s.6.4 1 .4zM129.6 137.3c-.9 0-1.3-.5-1.3-1.4v-9.4c0-.9.4-1.3 1.3-1.3s1.3.4 1.3 1.3v.1c.2-.4.6-.8 1.1-1 .5-.3 1-.4 1.6-.4.8 0 1.4.2 2 .5.6.4 1 .9 1.3 1.6s.5 1.5.5 2.4-.2 1.7-.5 2.4-.8 1.2-1.3 1.6c-.6.4-1.2.6-2 .6-.6 0-1.1-.1-1.6-.4s-.8-.6-1.1-1v3.1c.1.8-.4 1.3-1.3 1.3zm3.2-5.1c.6 0 1-.2 1.4-.6.4-.4.5-1.1.5-1.9 0-.9-.2-1.5-.5-1.9-.4-.4-.8-.6-1.4-.6-.6 0-1 .2-1.4.6s-.5 1-.5 1.9c0 .9.2 1.5.5 1.9.4.4.9.6 1.4.6zM143.2 134.2c-.9 0-1.7-.2-2.4-.6-.7-.4-1.2-.9-1.6-1.6-.4-.7-.6-1.5-.6-2.4s.2-1.7.6-2.4c.4-.7.9-1.2 1.6-1.6.7-.4 1.5-.5 2.4-.5s1.7.2 2.4.5c.7.4 1.2.9 1.6 1.6.4.7.6 1.5.6 2.4 0 .9-.2 1.7-.6 2.4-.4.7-.9 1.2-1.6 1.6-.7.4-1.5.6-2.4.6zm0-2c.6 0 1-.2 1.4-.6.4-.4.5-1.1.5-1.9 0-.9-.2-1.5-.5-1.9-.4-.4-.8-.6-1.4-.6-.6 0-1 .2-1.4.6s-.5 1-.5 1.9c0 .9.2 1.5.5 1.9.4.4.8.6 1.4.6zM152.8 134.2c-.8 0-1.4-.2-2-.6-.6-.4-1-.9-1.3-1.6-.3-.7-.5-1.5-.5-2.4s.2-1.7.5-2.4.8-1.2 1.3-1.6c.6-.4 1.2-.5 2-.5.6 0 1.1.1 1.6.4s.8.6 1.1 1v-3.8c0-.9.4-1.4 1.3-1.4s1.3.5 1.3 1.4v10c0 .9-.4 1.4-1.3 1.4s-1.3-.5-1.3-1.4v-.1c-.2.4-.6.8-1.1 1.1s-1 .5-1.6.5zm.8-2c.6 0 1-.2 1.4-.6.4-.4.5-1.1.5-1.9 0-.9-.2-1.5-.5-1.9-.4-.4-.8-.6-1.4-.6-.6 0-1 .2-1.4.6s-.5 1-.5 1.9c0 .9.2 1.5.5 1.9.4.4.8.6 1.4.6zM164.7 134.2c-1 0-1.9-.2-2.6-.6-.7-.4-1.3-.9-1.7-1.6-.4-.7-.6-1.5-.6-2.4s.2-1.7.6-2.4c.4-.7.9-1.2 1.6-1.6.7-.4 1.4-.6 2.3-.6 1.3 0 2.3.4 3 1.2.7.8 1.1 1.9 1.1 3.2 0 .4-.3.7-.8.7h-5.2c.1.7.3 1.2.7 1.5s1 .5 1.7.5c.3 0 .6 0 1-.1s.7-.2 1-.3c.3-.2.6-.2.9-.1.2.1.4.3.5.5s.1.5 0 .7c-.1.3-.3.5-.6.6-.4.2-.9.4-1.4.5s-1.1.3-1.5.3zm-.4-7.3c-.6 0-1 .2-1.4.5-.3.3-.6.8-.6 1.4h3.8c-.1-1.2-.7-1.9-1.8-1.9zM171.2 134.1c-.9 0-1.4-.5-1.4-1.4v-6.3c0-.9.4-1.3 1.3-1.3s1.3.4 1.3 1.3v.3c.4-1 1.3-1.6 2.6-1.7.3 0 .5.1.7.2.2.2.2.4.3.8 0 .4 0 .7-.2.9-.2.2-.5.3-.9.4h-.4c-1.3.1-2 .8-2 2v3.3c0 1.1-.4 1.5-1.3 1.5zM185.7 134.1c-.7 0-1.2-.4-1.5-1.1l-2.7-6.1c-.2-.5-.2-.9 0-1.2.2-.3.6-.5 1.2-.5.3 0 .6.1.8.2s.4.4.5.8l1.8 4.6 1.9-4.6c.2-.4.3-.7.5-.8.2-.1.5-.2.8-.2.4 0 .8.2 1 .5s.2.7 0 1.2l-2.7 6.1c-.4.8-.9 1.1-1.6 1.1zM195.7 134.2c-1 0-1.9-.2-2.6-.6-.7-.4-1.3-.9-1.7-1.6-.4-.7-.6-1.5-.6-2.4s.2-1.7.6-2.4c.4-.7.9-1.2 1.6-1.6.7-.4 1.4-.6 2.3-.6 1.3 0 2.3.4 3 1.2.7.8 1.1 1.9 1.1 3.2 0 .4-.3.7-.8.7h-5.2c.1.7.3 1.2.7 1.5s1 .5 1.7.5c.3 0 .6 0 1-.1s.7-.2 1-.3c.3-.2.6-.2.9-.1.2.1.4.3.5.5s.1.5 0 .7c-.1.3-.3.5-.6.6-.4.2-.9.4-1.4.5s-1 .3-1.5.3zm-.4-7.3c-.6 0-1 .2-1.4.5-.3.3-.6.8-.6 1.4h3.8c0-1.2-.6-1.9-1.8-1.9zM202.2 134.1c-.9 0-1.4-.5-1.4-1.4v-6.3c0-.9.4-1.3 1.3-1.3s1.3.4 1.3 1.3v.3c.4-1 1.3-1.6 2.6-1.7.3 0 .5.1.7.2.2.2.2.4.3.8 0 .4 0 .7-.2.9-.2.2-.5.3-.9.4h-.4c-1.3.1-2 .8-2 2v3.3c.1 1.1-.4 1.5-1.3 1.5zM211.2 134.2c-2.1 0-3.1-1.2-3.1-3.5v-7.9c0-.9.4-1.4 1.3-1.4s1.3.5 1.3 1.4v7.8c0 .5.1.8.3 1.1.2.2.5.3.8.3h.6c.2 0 .3 0 .4.2.1.1.1.4.1.8 0 .7-.3 1.1-.9 1.2h-.8zM218.1 134.2c-.9 0-1.7-.2-2.4-.6-.7-.4-1.2-.9-1.6-1.6-.4-.7-.6-1.5-.6-2.4s.2-1.7.6-2.4c.4-.7.9-1.2 1.6-1.6.7-.4 1.5-.5 2.4-.5s1.7.2 2.4.5c.7.4 1.2.9 1.6 1.6.4.7.6 1.5.6 2.4 0 .9-.2 1.7-.6 2.4-.4.7-.9 1.2-1.6 1.6-.7.4-1.5.6-2.4.6zm0-2c.6 0 1-.2 1.4-.6.4-.4.5-1.1.5-1.9 0-.9-.2-1.5-.5-1.9-.4-.4-.8-.6-1.4-.6-.6 0-1 .2-1.4.6s-.5 1-.5 1.9c0 .9.2 1.5.5 1.9.3.4.8.6 1.4.6zM225.3 134.1c-.5 0-.8-.1-1.1-.4-.3-.3-.4-.6-.4-1.1 0-.4.1-.8.4-1.1.3-.3.6-.4 1.1-.4s.8.1 1.1.4c.3.3.4.6.4 1.1 0 .4-.1.8-.4 1.1-.3.2-.6.4-1.1.4z" />
        </g>
      </g>
      <g id="prefix__Layer_2" onClick={closeModal} style={{'cursor':'pointer'}}>
        <path
          d="M198.3 217.5h-83c-12.7 0-23.1-10.4-23.1-23.1h0c0-12.7 10.4-23.1 23.1-23.1h83c12.7 0 23.1 10.4 23.1 23.1h0c0 12.7-10.4 23.1-23.1 23.1z"
          fill="#fff"
          stroke="#000"
          strokeWidth={1.595}
          strokeMiterlimit={10}
        />
        <path
          d="M198.3 212.4h-83.1c-9.9 0-18-8.1-18-18s8.1-18 18-18h83.1c9.9 0 18 8.1 18 18s-8.1 18-18 18z"
          fill="#e86766"
        />
        <path
          d="M201.1 208.2H118c-9.9 0-18-8.1-18-18 0-2.8.6-5.4 1.8-7.8-2.7 3.2-4.3 7.2-4.3 11.7 0 9.9 8.1 18 18 18h83.1c7.1 0 13.3-4.2 16.2-10.2-3.4 3.8-8.3 6.3-13.7 6.3z"
          opacity={0.19}
        />
        <path
          className="prefix__st7"
          d="M196.3 181.4h-60.7c-1 0-1.7-.8-1.7-1.7 0-1 .8-1.7 1.7-1.7h60.7c1 0 1.7.8 1.7 1.7 0 .9-.8 1.7-1.7 1.7z"
        />
        <circle className="prefix__st7" cx={200.9} cy={179.9} r={1.5} />
        <g opacity={0.19}>
          <path d="M134.4 199.2c-.1 0-.1-.1 0 0-.1-.1-.1-.1-.1-.2v-.2-.1-.1-.1-.1-.1-.1l-.1-.1h-.2-.4-.9H130.2h-.1-.1l-.1.1c0 .1-.1.1-.1.2-.1.2-.1.3-.2.5s-.1.3-.2.5c0 .1 0 .1-.1.2 0 .1 0 .1-.1.2 0 .1 0 .1-.1.2 0 .1-.1.1-.1.2h-1c-.1 0-.2 0-.3-.1-.1 0-.2-.1-.3-.1H127.1h-.1-.4-.1v-.2-.1c.1 0 .1-.1.1-.1 0-.1.1-.1.1-.1.1-.2.1-.3.2-.5s.1-.3.2-.5.1-.3.2-.5.2-.3.2-.5v-.2-.1c0-.1 0-.1.1-.2 0-.1 0-.1.1-.2v-.1-.4c.1-.1.1-.3.2-.4.1-.1.1-.3.2-.4.1-.3.2-.7.3-1 .1-.3.2-.7.4-1 .1-.3.2-.5.3-.7.1-.2.2-.5.3-.8v-.2-.1-.1-.1-.1-.1-.6-.1-.4-.1-.5s0-.1.1-.1h2s.1 0 .1.1h.1s.1.1.1.2.1.1.1.2.1.2.1.2c0 .1.1.1.1.2.1.1.1.2.2.4.1.1.1.3.2.4V191.5c.1.2.2.4.2.6.1.2.1.4.2.6l.3.6.3.6v.2s0 .1.1.1v.1c.1.1.1.3.2.4.1.1.1.3.2.4.1.3.2.6.4.9l.3.9c.1.3.2.6.4.9.2.3.3.6.4.9v.1s0 .1.1.1c0 0 0 .1.1.1v.4H134h-.4H133.3s-.1 0-.1-.1l1.2-.1zm-3.2-3.3H133.2s.1 0 .1-.1v-.2-.1-.1s0-.1-.1-.1c0-.1-.1-.1-.1-.2s-.1-.1-.1-.2-.1-.1-.1-.1 0-.1-.1-.1c0-.1 0-.1-.1-.1v-.2-.1-.1s0-.1-.1-.1c0-.1-.1-.1-.1-.2s-.1-.1-.1-.2 0-.1-.1-.1c0 0 0-.1-.1-.1 0-.1 0-.1-.1-.1v.6s0 .1-.1.1 0 .1 0 .1c-.1.3-.2.5-.3.8-.1.2-.2.5-.3.7v.2h.2-.4zM137.6 197.9s0-.1-.1-.1c0-.1-.1-.1-.1-.2s-.1-.1-.1-.2v-.1-.2c-.1-.4-.1-.8 0-1.2 0-.4.1-.8.2-1.1.1-.3.2-.6.3-.8.1-.3.3-.5.5-.8.2-.2.4-.4.7-.6.2-.2.5-.3.8-.4.2-.1.4-.1.7-.1.2 0 .5-.1.7-.1h.9c.2 0 .4 0 .6.1.2 0 .4.1.6.1s.4.1.5.2h.1s.1.1.2.1.1.1.2.1h.1l.2.2.1.1.1.1c.1.1.1.1.3.2l.1.1v.2s0 .1-.1.2l-.1.1c-.1 0-.1.1-.2.2s-.2.1-.3.2c-.1.1-.2.1-.2.2l-.3.3h-.5s-.1 0-.1-.1l-.1-.1c-.1 0-.2-.1-.3-.1-.1 0-.2-.1-.3-.1H141.8h-.1H141.4c-.1 0-.1 0-.2.1s-.3.2-.4.3c-.1.1-.2.2-.3.4-.1.1-.1.3-.2.4-.1.2-.1.3-.2.4 0 .1-.1.2-.1.4v.4c0 .2.1.3.1.5.1.1.1.3.2.4l.3.3c.1.1.3.1.5.2H142.6c.1 0 .1 0 .2-.1.1 0 .1 0 .2-.1.1 0 .2-.1.3-.2.1-.1.2-.1.3-.2.1-.1.2-.1.2-.2.1 0 .1-.1.3-.1h.2l.1.1h.1l.1.1s.1.1.2.1.1.1.2.1.1.1.1.1l.1.1.1.1.1.1h.2v.2s0 .1-.1.1c-.2.3-.4.5-.7.8-.2.2-.5.5-.8.7-.2.1-.4.2-.5.2-.2.1-.3.1-.4.1-.1 0-.3 0-.4.1h-.5-1c-.2 0-.4-.1-.6-.1h-.6c-.2-.1-.3-.1-.5-.2s-.3-.2-.5-.3c-.2-.1-.3-.3-.5-.4l-.4-.4-.1-.1s-.1-.1-.1-.2-.1-.1-.1-.2l-.2-.4c.1.1 0 .1 0 0 0 .1 0 .1 0 0zM145.5 196.1c0-.1.1-.3.1-.4 0-.1.1-.3.1-.4 0-.1.1-.2.1-.3 0-.1 0-.2.1-.3v-.4c0-.1.1-.3.2-.4l.3-.3s0-.1.1-.1l.1-.1.1-.1v-.1-.1c.2-.1.4-.3.6-.4l.6-.3c.2-.1.4-.2.7-.2.2 0 .5-.1.7-.1h.8c.3 0 .5.1.8.2.2.1.4.1.5.2.1.1.3.2.4.2.1.1.2.1.2.2.1.1.1.1.2.1l.3.3.3.3c.1.1.2.2.2.4.1.1.1.3.2.4 0 0 0 .1.1.2 0 .1 0 .2.1.3 0 .1 0 .2.1.3V196.6c-.1.1-.2.1-.2.2-.1 0-.2 0-.3.1h-1.1-.6H151 147.8h-.1v.2c0 .1.1.2.1.3v.2s0 .1.1.1c.1.2.3.4.5.5s.4.1.7.1H150c.1 0 .2-.1.4-.1h.1s.1 0 .1-.1c0 0 .1 0 .1-.1h.1c.1-.1.2-.1.3-.2.1-.1.2-.1.2-.2.1-.1.1-.1.2-.1s.1-.1.2-.1c0 0 .1.1.2.1l.2.2.2.2c.1.1.1.1.2.1l.1.1.1.1.1.1.1.1c0 .1 0 .2-.1.3s.1.3.1.3l-.6.6c-.2.2-.4.4-.7.5-.1 0-.2.1-.2.1-.1 0-.2 0-.2.1-.1 0-.2.1-.3.1h-1.7c-.3 0-.5-.1-.8-.2-.1 0-.2-.1-.3-.1-.2-.1-.3-.1-.4-.1-.1 0-.2-.1-.2-.2-.1-.1-.2-.1-.2-.2-.1-.1-.3-.2-.4-.4-.1-.2-.3-.2-.4-.4l-.1-.1v-.1-.1s0-.1-.1-.1l-.1-.1v-.1l-.1-.1c0-.1-.1-.1-.1-.2s-.1-.1-.1-.2-.1-.1-.1-.2c0-.3-.1-.5-.1-.8-.1-.1-.2-.3-.2-.6zm4.4-2c-.2 0-.4 0-.6.1-.2 0-.4.1-.5.2-.1 0-.1.1-.2.1l-.2.2-.2.2c0 .1-.1.1-.1.2h3.4v-.2-.1c-.2-.2-.4-.4-.7-.5-.4-.1-.7-.2-.9-.2zM162.1 195s0 .1 0 0v1.2c0 .3 0 .5-.1.7 0 .2-.1.4-.1.6 0 .2-.1.4-.2.6l-.3.6v.1s0 .1-.1.1c0 0 0 .1-.1.1v.1l-.1.1s0 .1-.1.1c0 0-.1 0-.1.1l-.1.1-.1.1-.1.1-.1.1c-.1 0-.1.1-.1.1H160.1h-.1s-.1 0-.1.1c-.1 0-.1 0-.2.1-.1 0-.1 0-.2.1h-.1-1.1c-.1 0-.3 0-.4-.1-.3-.1-.6-.1-.9-.2-.3-.1-.5-.2-.8-.3v3.1h-2l-.2-.2v-.1V202.1v-.1-.2-.7-.7-.7-.7-.7V197.5v-.2-.3-.3V196.4v-.2-.2-.2-.2-.2-.5-.2-.2-.1-.2-.3-.3-.2-.1-.1-.2-.2-.2-.2-.1c0-.1.1-.1.1-.2.1 0 .2-.1.3-.1h1.7l.1.1.1.6c.2-.1.3-.3.5-.4.2-.1.4-.2.5-.2.2 0 .3-.1.5-.1h2.2s.1 0 .1.1c0 0 .1 0 .1.1 0 0 .1 0 .1.1 0 0 .1 0 .1.1l.1.1.1.1.1.1.1.1.1.1.1.1.3.3c.1.1.2.2.2.4 0 .1.1.2.1.3 0 .1.1.2.1.3v.4c.3.2.3.2.4.3zm-2.8-.3l-.1-.1-.1-.1-.1-.1h-.2-.1-.1H158c-.2 0-.4 0-.6.1l-.6.3-.1.1-.1.1s0 .1-.1.1l.2-.1v.1s0 .1-.1.1c0 0 0 .1-.1.1v.4s0 .1-.1.2c0 .1 0 .2-.1.3v1l.1.1s0 .1.1.1v.1c.1.1.1.1.2.1s.1.1.2.1.1 0 .2.1.1 0 .2.1h.9s0 .1.1.1H158.6c.1 0 .2 0 .2-.1.1 0 .2-.1.2-.1.1 0 .1-.1.2-.2v-.1l.1-.1.1-.1.1-.1c.1-.1.1-.2.2-.4.1-.1.1-.3.1-.4v-.2-.2s0-.1-.1-.2c0-.1 0-.1-.1-.2 0-.1 0-.1-.1-.2v-.1l-.2-.6zM163.7 200c0-.1 0-.1 0 0v-.2-.2-.4-.2-.2-.2-.3-.3-.2-.1-.2-.2-.1-.1-.2-.2-.1-.3-.4-.5-.4-.4-.4h-1v-.2-.3-.3-.3-.3V192.5c0-.1 0-.1.1-.2 0-.1.1-.1.2-.1h1v-.1-.9-.9-.4s0-.1.1-.1H166l.1.1V192.5H166.4c.1 0 .3-.1.4-.1h.7V194.3l-.1.1h-1.1v2.2l-.1 3.2s0 .1-.1.1H164.7h-.2-.1-.1-.4-.2v.1zM173.7 200.2l-.1-.1V199.8 199.5h-.1-.1l-.1.1s-.1.1-.2.1-.1.1-.2.1-.1.1-.2.1l-.5.2h-.1H170.8h-.7l.1-.1s-.1 0-.1-.1c-.1 0-.1-.1-.2-.1s-.1-.1-.2-.1-.1-.1-.1-.1-.1 0-.1-.1c0 0-.1 0-.1-.1-.1 0-.1 0-.1-.1h-.1l-.1-.1-.1-.1h-.1l-.3-.3-.3-.3c-.1-.1-.2-.2-.2-.4-.1-.2-.1-.3-.1-.5s-.1-.4-.1-.5v-.5-.5-.4c0-.1 0-.3.1-.4 0-.1.1-.3.1-.4v-.2c0-.1.1-.2.1-.2 0-.1.1-.1.1-.2 0 0 0-.1 0 0 .1-.2.1-.4.3-.5.1-.2.2-.3.4-.4l.4-.4c.1-.1.3-.2.5-.3 0 0 .1 0 .1-.1.1 0 .1-.1.2-.1s.1-.1.2-.1.1 0 .1-.1h1.7c.1 0 .3.1.4.1s.3.1.4.1c.1.1.2.1.4.2l.3.3v-.1-.1-.4s0-.1.1-.1h1.6c.2 0 .3 0 .5.1h.1V200.3h-2c-.2-.1-.3-.1-.3-.1zm-3.6-4c0 .2 0 .4.1.6.1.2.2.4.3.5v.1l.3.3.3.3c.1.1.2.1.4.2.1 0 .3.1.4.1.1 0 .3 0 .4-.1.1 0 .3-.1.4-.1H173c.1-.1.3-.2.4-.4.1-.2.2-.3.2-.5.1-.2.1-.4.1-.5v-.6-.2-.8c-.1-.2-.2-.3-.2-.4-.1-.1-.2-.3-.3-.3l-.1-.1-.1-.1-.1-.1s-.1 0-.1-.1h-.4l-.1-.1h-.7c-.1 0-.1.1-.2.1s-.1.1-.2.1-.1.1-.2.1l-.1.1-.1.1-.1.1v.1c-.2.2-.3.4-.3.6 0 .2-.1.3-.1.5-.2.2-.2.3-.2.5zM177.3 200.3h-.5v-.4-.1-.1-.4-.7-.9-1-.9-.8-.2-.2-.2-.2-.2-.2-.3-.3V192.9v-.1-.1-.1V192.3c.1 0 .3 0 .4-.1.1 0 .3 0 .4-.1h.5c.2 0 .3 0 .5.1H178.9l.1.1v.4s.1 0 .1-.1c0 0 .1 0 .1-.1 0 0 .1 0 .1-.1 0 0 .1 0 .1-.1h.4s.1 0 .1-.1c.1 0 .1 0 .2-.1.1 0 .1 0 .2-.1h.1c.1 0 .2-.1.3-.1H181.6c.2 0 .4.1.5.2.2.1.3.2.5.2.1.1.3.2.3.3l.1.1.1.1c0 .1.1.1.1.1v.2l-.1.1-.1.1-.1.1h-.1-.1l-.1.1s-.1 0-.1.1c0 0-.1 0-.1.1l-.2.2-.2.2c-.1.1-.1.1-.2.1s-.2.1-.3.1h-.1c-.2-.1-.3-.2-.5-.2-.2-.1-.4-.1-.6-.1-.1 0-.3.1-.3.2-.1.1-.2.2-.2.3l-.1.1-.1.1v.1s0 .1-.1.1l-.1.1s0 .1-.1.1c0 .1-.1.2-.1.3v.3c-.1.4-.1.8-.1 1.1s0 .6.1.9c0 .2 0 .4.1.6 0 .2.1.4.1.6v.6l-2.1.8z" />
        </g>
        <g>
          <path
            className="prefix__st9"
            d="M136.2 197.8s-.1 0 0 0c-.1-.1-.1-.1-.1-.2v-.2-.1-.1-.1-.1-.1-.1l-.1-.1h-.2-.4-.9H132h-.1-.1l-.1.1c0 .1-.1.1-.1.2-.1.2-.1.3-.2.5-.1.1-.1.3-.2.5 0 .1 0 .1-.1.2 0 .1 0 .1-.1.2 0 .1 0 .1-.1.2 0 .1-.1.1-.1.2h-1c-.1 0-.2 0-.3-.1-.1 0-.2-.1-.3-.1H128.9h-.1-.4-.1v-.2-.1c.1 0 .1-.1.1-.1 0-.1.1-.1.1-.1.1-.2.1-.3.2-.5s.1-.3.2-.5.1-.3.2-.5.2-.3.2-.5v-.2-.1c0-.1 0-.1.1-.2 0-.1 0-.1.1-.2v-.1-.1V194.9c.1-.1.1-.3.2-.4.1-.1.1-.3.2-.4.1-.3.2-.7.3-1 .1-.3.2-.7.4-1 .1-.3.2-.5.3-.7.1-.2.2-.5.3-.8v-.2-.1-.2-.1-.1-.6-.1-.4-.1-.5s0-.1.1-.1h2s.1 0 .1.1h.1s.1.1.1.2.1.1.1.2.1.2.1.2c0 .1.1.1.1.2.1.1.1.2.2.4.1.1.1.3.2.4V190.1c.1.2.2.4.2.6.1.2.1.4.2.6l.3.6.3.6v.2s0 .1.1.1v.1c.1.1.1.3.2.4.1.1.1.3.2.4.1.3.2.6.4.9l.3.9c.1.3.2.6.4.9.1.3.3.6.4.9v.1s0 .1.1.1c0 0 0 .1.1.1v.4H135.8h-.4H135.1s-.1 0-.1-.1l1.2-.1zm-3.2-3.2H135s.1 0 .1-.1v-.2-.1-.1s0-.1-.1-.1c0-.1-.1-.1-.1-.2s-.1-.1-.1-.2-.1-.1-.1-.1 0-.1-.1-.1c0-.1 0-.1-.1-.1v-.2-.1-.1s0-.1-.1-.1c0-.1-.1-.1-.1-.2s-.1-.1-.1-.2 0-.1-.1-.1c0 0 0-.1-.1-.1 0-.1 0-.1-.1-.1v.6s0 .1-.1.1v.1c-.1.3-.2.5-.3.8-.1.2-.2.5-.3.7v.2h.2c-.5-.1-.5-.1-.4 0 0-.1 0-.1 0 0zM139.4 196.6s0-.1-.1-.1-.1-.1-.1-.2-.1-.1-.1-.2v-.1-.2c-.1-.4-.1-.8 0-1.2 0-.4.1-.8.2-1.1.1-.3.2-.6.3-.8.1-.3.3-.5.5-.8.2-.2.4-.4.7-.6.2-.2.5-.3.8-.4.2-.1.4-.1.7-.1.2 0 .5-.1.7-.1h.9c.2 0 .4 0 .6.1.2 0 .4.1.6.1.2.1.4.1.5.2h.1s.1.1.2.1.1.1.2.1h.1l.2.2.1.1.1.1c.1.1.1.1.3.2l.1.1v.2s0 .1-.1.2l-.1.1c-.1 0-.1.1-.2.2s-.2.1-.3.2c-.1.1-.2.1-.2.2l-.3.3h-.5s-.1 0-.1-.1l-.1-.1c-.1 0-.2-.1-.3-.1s-.2-.1-.3-.1H143.6h-.1H143.2c-.1 0-.1 0-.2.1s-.3.2-.4.3c-.1.1-.2.2-.3.4-.1.1-.1.3-.2.4-.1.2-.1.3-.2.4 0 .1-.1.2-.1.4v.4c0 .2.1.3.1.5.1.1.1.3.2.4l.3.3c.1.1.3.1.5.2H144.4c.1 0 .1 0 .2-.1.1 0 .1 0 .2-.1.1 0 .2-.1.3-.2.1-.1.2-.1.3-.2.1-.1.2-.1.2-.2.1 0 .1-.1.3-.1h.2l.1.1h.1l.1.1c.1.1.1.1.2.1s.1.1.2.1.1.1.1.1l.1.1.1.1.1.1h.2v.2s0 .1-.1.1c-.2.3-.4.5-.7.8s-.5.5-.8.7c-.2.1-.4.2-.5.2-.2.1-.3.1-.4.1s-.3 0-.4.1h-.5-1c-.2 0-.4-.1-.6-.1h-.6c-.2-.1-.3-.1-.5-.2s-.3-.2-.5-.3c-.2-.1-.3-.3-.5-.4l-.4-.4-.1-.1s-.1-.1-.1-.2-.1-.1-.1-.2c-.1-.3-.1-.3-.2-.4.1 0 .1 0 0 0zM147.4 194.7c0-.1.1-.3.1-.4 0-.1.1-.3.1-.4 0-.1.1-.2.1-.3s0-.2.1-.3v-.4c0-.1.1-.3.2-.4l.3-.3s0-.1.1-.1l.1-.1.1-.1v-.1-.1c.2-.1.4-.3.6-.4l.6-.3c.2-.1.4-.2.7-.2.2 0 .5-.1.7-.1h.8c.3 0 .5.1.8.2.2.1.4.1.5.2.1.1.3.2.4.2.1.1.2.1.2.2.1.1.1.1.2.1l.3.3.3.3c.1.1.2.2.2.4.1.1.1.3.2.4 0 0 0 .1.1.2 0 .1 0 .2.1.3 0 .1 0 .2.1.3V195.2c-.1.1-.2.1-.2.2-.1 0-.2 0-.3.1h-1.1-.6H152.9 149.7h-.1v.2c0 .1.1.2.1.3v.2s0 .1.1.1c.1.2.3.4.5.5.2.1.4.1.7.1H151.9c.1 0 .2-.1.4-.1h.1s.1 0 .1-.1c0 0 .1 0 .1-.1h.1c.1-.1.2-.1.3-.2.1-.1.2-.1.2-.2.1-.1.1-.1.2-.1s.1-.1.2-.1c0 0 .1.1.2.1l.2.2.2.2c.1.1.1.1.2.1l.1.1.1.1.1.1.1.1c0 .1 0 .2-.1.3-.1.1-.1.2-.2.2l-.6.6c-.2.2-.4.4-.7.5-.1 0-.2.1-.2.1-.1 0-.2 0-.2.1-.1 0-.2.1-.3.1h-1.7c-.3 0-.5-.1-.8-.2-.1 0-.2-.1-.3-.1s-.2-.1-.3-.1c-.1 0-.2-.1-.2-.2-.1-.1-.2-.1-.2-.2-.1-.1-.3-.2-.4-.4-.1-.1-.3-.2-.4-.4l-.1-.1v-.1-.1s0-.1-.1-.1l-.1-.1v-.1l-.1-.1c0-.1-.1-.1-.1-.2s-.1-.1-.1-.2-.1-.1-.1-.2c0-.3-.1-.5-.1-.8v-.5zm4.3-2c-.2 0-.4 0-.6.1-.2 0-.4.1-.5.2-.1 0-.1.1-.2.1l-.2.2-.2.2c0 .1-.1.1-.1.2h3.4v-.2-.1c-.2-.2-.4-.4-.7-.5-.4-.1-.6-.2-.9-.2zM163.9 193.6c0 .1 0 .1 0 0v1.2c0 .3 0 .5-.1.7 0 .2-.1.4-.1.6s-.1.4-.2.6l-.3.6v.1s0 .1-.1.1c0 0 0 .1-.1.1v.1l-.1.1s0 .1-.1.1c0 0-.1 0-.1.1l-.1.1-.1.1-.1.1-.1.1c-.1 0-.1.1-.1.1H161.9h-.1s-.1 0-.1.1c-.1 0-.1 0-.2.1s-.1 0-.2.1h-.1-.9c-.1 0-.3 0-.4-.1-.3-.1-.6-.1-.9-.2-.3-.1-.5-.2-.8-.3v3.1h-2l-.2-.2v-.4V200.4v-.7-.7-.7-.7-.7V196.1v-.2-.3-.3V195v-.2-.2-.2-.2-.2-.5-.2-.2-.1-.2-.3-.3-.2-.1-.1-.2-.2-.2-.2-.1c0-.1.1-.1.1-.2.1 0 .2-.1.3-.1h1.7l.1.1.1.6c.2-.1.3-.3.5-.4.2-.1.4-.2.5-.2.2 0 .3-.1.5-.1h2.2s.1 0 .1.1c0 0 .1 0 .1.1 0 0 .1 0 .1.1 0 0 .1 0 .1.1l.1.1.1.1.1.1.1.1.1.1.1.1.3.3c.1.1.2.2.2.4 0 .1.1.2.1.3 0 .1.1.2.1.3v.4c.2.2.2.2.2.3zm-2.8-.2s0-.1 0 0l-.1-.1-.1-.1-.1-.1h-.2-.1-.1H159.8c-.2 0-.4 0-.6.1l-.6.3-.1.1-.1.1s0 .1-.1.1l-.1.1v.1s0 .1-.1.1c0 0 0 .1-.1.1v.4s0 .1-.1.2c0 .1 0 .2-.1.3v1l.1.1s0 .1.1.1v.1c.1.1.1.1.2.1s.1.1.2.1.1 0 .2.1.1 0 .2.1h.9s0 .1.1.1H160.1c.1 0 .2 0 .2-.1.1 0 .2-.1.2-.1.1 0 .1-.1.2-.2v-.1l.1-.1.1-.1.1-.1c.1-.1.1-.2.2-.4.1-.1.1-.3.1-.4v-.2-.2s0-.1-.1-.2c0-.1 0-.1-.1-.2 0-.1 0-.1-.1-.2v-.1l.1-.8zM165.5 198.6c0-.1 0-.1 0 0v-.2-.2-.4-.2-.2-.2-.3-.3-.2-.1-.2-.2-.1-.1-.2-.2-.1-.3-.4-.5-.4-.4-.4h-1v-.2-.3-.3-.3-.3V191.1c0-.1 0-.1.1-.2 0-.1.1-.1.2-.1h1v-.7-.9-.1V188.8s0-.1.1-.1H167.8l.1.1V191.4H168.2c.1 0 .3-.1.4-.1h.7V193.2l-.1.1h-1.1v2.2l-.1 3.2s0 .1-.1.1H166.5h-.2-.1-.1-.4-.2v-.2zM175.5 198.8l-.1-.1V198.4 198.1h-.1-.1l-.1.1s-.1.1-.2.1-.1.1-.2.1 0 .1 0 .1l-.5.2h-.1H172.8h-.7l-.2-.1s-.1 0-.1-.1c-.1 0-.1-.1-.2-.1s-.1-.1-.2-.1-.1-.1-.1-.1-.1 0-.1-.1c0 0-.1 0-.1-.1-.1 0-.1 0-.1-.1h-.1l-.1-.1-.1-.1h-.1l-.3-.3-.3-.3c-.1-.1-.2-.2-.2-.4-.1-.2-.1-.3-.1-.5s-.1-.4-.1-.5v-.5-.5-.4c0-.1 0-.3.1-.4 0-.1.1-.3.1-.4v-.2c0-.1.1-.2.1-.2 0-.1.1-.1.1-.2 0 0 0-.1 0 0 .1-.2.1-.4.3-.5.1-.2.2-.3.4-.4l.4-.4c.2-.1.3-.2.5-.3 0 0 .1 0 .1-.1.1 0 .1-.1.2-.1s.1-.1.2-.1.1 0 .1-.1h1.7c.1 0 .3.1.4.1.1 0 .3.1.4.1.1.1.2.1.4.2l.3.3v-.1-.1-.4s0-.1.1-.1h1.6c.2 0 .3 0 .5.1h.1V198.9h-2c-.1-.1-.1-.1-.2-.1zm-3.5-4c0 .2 0 .4.1.6.1.2.2.4.3.5v.1l.3.3.3.3c.1.1.2.1.4.2.1 0 .3.1.4.1s.3 0 .4-.1c.1 0 .3-.1.4-.1H174.9c.1-.1.3-.2.4-.4s.2-.3.2-.5c.1-.2.1-.4.1-.5v-.6-.2-.2l-.1-.1v-.2c-.1-.2-.2-.3-.2-.4-.1-.1-.2-.3-.3-.3l-.1-.1-.1-.1-.1-.1s-.1 0-.1-.1h-.4l-.1-.1h-.7c-.1 0-.1.1-.2.1s-.1.1-.2.1-.1.1-.2.1l-.1.1-.1.1-.1.1v.1c-.2.2-.3.4-.3.6 0 .2-.1.3-.1.5-.1-.1-.1.1-.1.2zM179.1 198.9h-.5v-.4-.1-.1-.4-.7-.9-1-.9-.8-.2-.2-.2-.2-.2-.2-.3-.3-.1-.2-.1-.1-.1V190.9c.1 0 .3 0 .4-.1.1 0 .3 0 .4-.1h.5c.2 0 .3 0 .5.1H180.7l.1.1v.4s.1 0 .1-.1c0 0 .1 0 .1-.1 0 0 .1 0 .1-.1 0 0 .1 0 .1-.1h.4s.1 0 .1-.1c.1 0 .1 0 .2-.1.1 0 .1 0 .2-.1s.1 0 .1 0c.1 0 .2-.1.3-.1H183.4c.2 0 .4.1.5.2.2.1.3.2.5.2.1.1.3.2.3.3l.1.1.1.1c0 .1.1.1.1.1v.2l-.1.1-.1.1-.1.1h-.1-.1l-.1.1s-.1 0-.1.1c0 0-.1 0-.1.1l-.2.2-.2.2c-.1.1-.1.1-.2.1s-.2.1-.3.1h-.1c-.2-.1-.3-.2-.5-.2-.2-.1-.4-.1-.6-.1-.1 0-.3.1-.3.2-.1.1-.2.2-.2.3l-.1.1-.1.1v.1s0 .1-.1.1l-.1.1s0 .1-.1.1c0 .1-.1.2-.1.3v.3c-.3 1-.3 1.3-.3 1.7 0 .3 0 .6.1.9 0 .2 0 .4.1.6.1.2.1.4.1.6v.6l-1.9.2z"
          />
        </g>
      </g>
    </svg>
                          </div>
              
            </Modal>
            <ImageUploading
                multiple
                value={images}
                onChange={onChange}
                cancelImageUpload={cancelImageUpload}
                maxNumber={maxNumber}
                maxFileSize={maxFileSize}
                resolutionWidth={resolutionWidth}
                resolutionHeight={resolutionHeight}
                dataURLKey="data_url"
            >
                {({
                    imageList,
                    onImageUpload,
                    onImageRemoveAll,
                    onImageUpdate,
                    onImageRemove,
                    isDragging,
                    dragProps
                }) => (
                    // write your building UI
                    <div className="upload__image-wrapper" style={{
                        'paddingLeft': '5vw',
                        'paddingRight': '5vw',
                        'paddingBottom': '3vw',
                        'cursor':'pointer'
                    }}>
                        {imageFlag == false
                           ? <a

                            style={isDragging ? { color: "red" } : undefined}
                            onClick={onImageUpload}
                            {...dragProps}
                            >
                                
                                <img src="/imgs/SUBIR FOTO-01.svg"></img>

                            </a>
                            : null
                        }
                        
                        {imageList.map((image, index) => (
                            <div key={index} className={styles.imageUpload}>
                                <img src={image["data_url"]} alt="" width="300" />
                                <div className="image-item__btn-wrapper">
                                    <button onClick={() => onImageUpdate(index)}>Actualizar</button>&nbsp;&nbsp;
                                    <button onClick={() => onImageRemove(index)}>Remover</button>
                                </div>
                                <a className={styles.btnCam} onClick={() => { sendImageUpload(imageList); onImageRemove(index) }}>
                               
                                Enviar
                               {/**     <strong>
                                        Enviar
                                    </strong>  */}
                                </a>
                                <a className={styles.btnCam1} onClick={() => { cancelImageUpload(); onImageRemove(index)}}>
                                    <strong>
                                        Cancelar
                                    </strong>
                                </a>
                            </div>
                        ))}


                    </div>
                )}
            </ImageUploading>

        </div>
    );
}

export function UploadVideo(props) {
    const [videoFile, setVideoFile] = useState();
    const [videoFlag, setVideoFlag] = useState();
    const [video, setVideo] = useState();
    const maxFileSize = 14000000; //14MB
    const inputFileRef = React.createRef();
    const videoRef = React.createRef();


    const onChange = (event) => {

        if (event) {
            // data for submit

            console.log('video', URL.createObjectURL(event[0]))
            setVideoFile(URL.createObjectURL(event[0]));
            setVideo(event[0]);
            videoRef.current.load();
        } else {
            setVideoFlag(false)
        }


    };
    function sendVideoUpload() {
        console.log('enviando video...');

        // Create an object of formData 
        const formData = new FormData();

        // Update the formData object 
        formData.append(
            "file",
            video,
            props.user + '-' + props.lesson_id + '-' + video.name
        );


        var requestOptions = {
            method: 'POST',
            body: formData,
            redirect: 'follow'
        };
        //cambiar por url moodle
        fetch(`${process.env.HOST}${process.env.post_save_image}`, requestOptions)
            .then(function (response) {
                return response.json();
            })
            .then(function (data) {
                console.log('image', data);
                if (!data.status) {
                    alert(data.message);
                } else {
                    sendSaveVideoDB(props.user + '-' + props.lesson_id + '-' + video.name);
                    cancelVideoUpload();
                }
            })
            .catch((error) => {
                console.log(error);
            });
    }

    
    function sendSaveVideoDB(filename) {

     
        var requestOptions = {
            method: 'GET'
        };
        //cambiar por url moodle
        fetch(`${process.env.HOST}${process.env.get_save_image_db}${props.user}&lessonid=${props.lesson_id}&ruta=${process.env.HOST}/moodle/img/proyects/uploads/${filename}`, requestOptions)
            .then(response => {
                //response.text()
                if (response.status == 200) {
                    //activamos modal
                    alert("Proyecto guardado con éxito.");

                }
            })
            .then(result => console.log(result))
            .catch(error => console.log('error', error))
    }

    function cancelVideoUpload() {
        setVideoFlag(false);
    }

    const onBtnClick = () => {
        /*Collecting node-element and performing click*/
        inputFileRef.current.click();
        setVideoFlag(true);
    }


    return (

        <div className="App">
            <div className="upload__image-wrapper" style={{
                'paddingLeft': '5vw',
                'paddingRight': '5vw',
                'paddingBottom': '3vw',
                'cursor':'pointer'
            }}>
                {videoFlag == true
                    ? <video ref={videoRef} width="500" controls>
                        <source src={videoFile} />
                    </video>
                    : null
                }

                {videoFlag == true
                    ? <div>
                        < a className={styles.btnCam} onClick={() => sendVideoUpload()}>
                            <strong>
                                Enviar
                            </strong>
                        </a>
                        <a className={styles.btnCam1} onClick={() => {props.cancelOperation(); cancelVideoUpload()}}>
                            <strong>
                                Cancelar
                            </strong>
                        </a>
                    </div>
                    : null
                }


                < a onClick={onBtnClick}>

                    <img src="/imgs/SUBIR VIDEO-02.svg"></img>
                    <input type="file" ref={inputFileRef} style={{ display: 'none' }} name="file" onChange={(e) => onChange(e.target.files)} />
                </a>


            </div>
        </div >
    );
}

export function CameraFrame(props) {

    const [dataUri, setDataUri] = useState('');

    function handleTakePhotoAnimationDone(dataUri) {
        console.log('takePhoto');
        setDataUri(dataUri);
    }

    function handleTakePhoto(dataUri) {
        // Do stuff with the photo...
        console.log('takePhoto');
    }

    function takePhoto(dataUri) {
        console.log('takePhoto', dataUri);
        setDataUri(dataUri);
    }

    function handleCameraStart(stream) {
        console.log('handleCameraStart');
    }

    function handleCameraStop() {
        console.log('handleCameraStop');
    }

    const isFullscreen = true;
    return (
        <div
            style={{
                'width': '50%',
                'marginLeft': '20%'
            }}
        >

            {
                (dataUri)
                    ? <ImagePreview dataUri={dataUri}
                        isFullscreen={isFullscreen}
                    />
                    : <Camera
                        idealFacingMode={FACING_MODES.ENVIRONMENT}
                        onTakePhoto={(dataUri) => { handleTakePhoto(dataUri); }}
                        onTakePhotoAnimationDone={(dataUri) => { handleTakePhotoAnimationDone(dataUri); }}
                        isFullscreen={isFullscreen}
                        idealResolution={{ width: 640, height: 480 }}
                        onCameraStart={(stream) => { handleCameraStart(stream); }}
                    />
            }
            < a onClick={() => takePhoto(dataUri)}>
                <img src="/imgs/foto.svg"></img>
            </a>
            < a onClick={() => props.cancelOperation()}>
                <img src="/imgs/cancelar.svg"></img>
            </a>
        </div>
    );
}

function Titulo(props) {
    let title = props.title;
    let image = props.image;
    let activity_icon = props.activity_icon;
    return (
        <div>
            <div className={styles.row3}>
                <section  className={styles.contgen2a}>
                    <div className={styles.column3a}>
                        <img style={{'height':'100px'}} src={image}></img>
                    </div>
                    <div className={styles.column3b}>
                        <img style={{'height':'100px'}} src={activity_icon}></img>
                    </div>
                    <div className={styles.column3}>
                        <h2 className={styles.elempart}>
                            {title}
                        </h2>
                    </div>
                </section>
            </div>

        </div>
    )
}

function Encabezado(props) {
    let header_image = props.header_image;
    let title = props.title;
    let separator = props.separator;
    let descriptive_image = props.descriptive_image;
    let image = props.image;
    let activity_icon = props.activity_icon;
    return (
        <div>
            <div>
                {/**  <Dialogos texto={dialogo1}></Dialogos> */}
                <img src={header_image}></img>
                <br></br>
                <Titulo title={title} image={image} activity_icon={activity_icon}></Titulo>
                <img src={separator}></img>
            </div>
            <div className="grid gitem sm:grid-cols-1 gap-1">
                <img src={descriptive_image}></img>
            </div>
        </div>
    )
}

export default class Courses extends React.Component {

    constructor(props) {
        super(props);
        this.state = {

            title: '',
            descriptive_text: '',
            activity_icon: '',
            header_image: '',
            image: '',
            separator: '',
            type_activity: '',
            id_activity: '',
            embedded: '',
            descriptive_image: '/svg/Pasos carga proyecto plataforma-05.svg',
            isToggleOn: false,
            idUser: 0,
            progress: 40,
            uploadFileStatus: false,
            uploadVideoStatus: false,
            cameraOn: false,
            idCourse: '',
            user_lesson: 0,
            lesson_position: 0,
            lesson_id: 0,
            course_position: '',
            user_course: '',
            insignia:0
        };
        this.handleClick = this
            .handleClick
            .bind(this);

        this.uploadFile = this
            .uploadFile
            .bind(this);

        this.initCameraFrame = this
            .initCameraFrame
            .bind(this);

        this.cancelOperation = this
            .cancelOperation
            .bind(this);

        this.sendLessionProgress = this
            .sendLessionProgress
            .bind(this);
    }
    componentDidMount(prevProps) {
        var self = this;
        var id = '';
        let id_Course = '';
        let lesson_id = '';
        let lesson_position = '';
        let course_position = ''

        if (typeof window !== 'undefined') {
            id = sessionStorage.getItem('idUser');
            id_Course = sessionStorage.getItem('course');
            lesson_id = sessionStorage.getItem('lesson_id');
            lesson_position = sessionStorage.getItem('lesson_position');
            course_position = sessionStorage.getItem('course_position');
            if (!id) {
                router.push('../../../intro/login');
            }
            self.setState({ idUser: id });
            self.setState({ idCourse: id_Course });
            self.setState({ lesson_id: lesson_id });
            self.setState({ lesson_position: lesson_position });
            self.setState({ course_position: course_position });
        }

        setTimeout(() => {
            //obtener la informacion del usuario
            const urlUserData = `${process.env.HOST}${process.env.get_user_info}${this.state.idUser}&lessonid=${this.state.lesson_id}`;
            const optionsUserData = {
                method: 'GET'
            };

            const res = fetch(urlUserData, optionsUserData).then(function (response) {
                return response.json();
            })
                .then(function (data) {
                    self.setState({ user_course: data.user_behavior[0].courses });
                    self.setState({ user_lesson: data.user_behavior[0].lessons });
                    self.setState({ insignia: data.user_behavior[0].insignia });

                    if (data.user_behavior[0].courses > self.state.course_position) {
                        self.setState({ progress: 100 });
                    }

                    if (data.user_behavior[0].courses == self.state.course_position) {

                        if (data.user_behavior[0].lessons > self.state.lesson_position) {
                            self.setState({ progress: 100 });
                        } else {
                            self.setState({ progress: data.user_behavior[0].progress });
                        }
                    }
                })
                .catch((error) => {
                    console.log(error);
                });
        }, 500);

        //Get Activity Content        
        setTimeout(() => {
            //obtener la informacion del usuario
            const urlUserData = `${process.env.HOST}${process.env.get_activity_content}&lessonid=${this.state.lesson_position}&activityid=4&courseid=${this.state.idCourse}&userid=${this.state.idUser}`;
            const optionsUserData = {
                method: 'GET'
            };

            const res = fetch(urlUserData, optionsUserData).then(function (response) {
                return response.json();
            })
                .then(function (data) {
                    console.log('usuario', data);
                    self.setState({ title: data.titulo });
                    self.setState({ descriptive_text: data.texto_descriptivo });
                    self.setState({ activity_icon: data.icono_actividad });
                    self.setState({ header_image: data.imagen_cabecera });
                    self.setState({ image: data.imagen });
                    self.setState({ separator: data.separador });
                    self.setState({ type_activity: data.tipo_actividad });
                    self.setState({ id_activity: data.idactividad });
                    self.setState({ embedded: data.embed });

                })
                .catch((error) => {
                    console.log(error);
                });
        }, 500);

    }
    handleClick() {
        console.log(' ', this);
    }
    uploadFile() {

        this.setState(prevState => ({ cameraOn: false }));
        this.setState(prevState => ({ uploadFileStatus: true }));

    }
    initCameraFrame() {
        this.setState(prevState => ({ cameraOn: true }));
        this.setState(prevState => ({ uploadFileStatus: false }));
    }

    cancelOperation() {
        this.setState(prevState => ({ cameraOn: false }));
        this.setState(prevState => ({ uploadFileStatus: false }));
        
    }

    sendLessionProgress() {

        var progress = 60;
        //Si el curso es superior no registra progreso en este punto
        if (this.state.course_position < this.state.user_course) {

            router.push('./a5');
            return;
        }

        //Si el curso del usuario es igual al de la posicion revisar lecciones
        if (this.state.course_position == this.state.user_course) {
            //Si la leccion es superior a la actual no debe registrar progreso
            if (this.state.lesson_position < this.state.user_lesson) {

                router.push('./a5');
                return;
            }

            if (this.state.progress > 60) {
                progress = this.state.progress;
            }
        }
        //peticion verificar ejercicio terminado
        const urlUserData = `${process.env.HOST}/moodle/login/indexws.php?methodcore=core_progress_user&userid=${this.state.idUser}&lessonid=${this.state.lesson_position}&progress=${progress}&course_id=${this.state.user_course}&insignia=${this.state.insignia}`;
        const optionsUserData = {
            method: 'GET'
        };
        const res = fetch(urlUserData, optionsUserData).then(function (response) {
            return response
                .text()
                .then(function (text) {
                    console.log(text);
                    if (text == "actividad registrada") {
                        router.push('./a5')
                    }
                });
        });
        //
    }

    render() {

        return (
            <div className={styles.container}>
                <LessonNav completed={this.state.progress} prev="./a3"></LessonNav>
                <main className={styles.main}>
                    <Encabezado title={this.state.title}
                        header_image={this.state.header_image}
                        separator={this.state.separator}
                        descriptive_image={this.state.descriptive_image}
                        image={this.state.image}
                        activity_icon={this.state.activity_icon}
                    >

                    </Encabezado>

                    <br></br>{' '}

                    <div>
                        {/**
                          {!this.state.cameraOn
                            ?
                            <div onClick={() => this.initCameraFrame()}
                            style={{'paddingLeft':'5vw',
                            'paddingRight':'5vw',
                            'paddingBottom':'3vw'}}>
                                
                                   <img src="/imgs/tomarfoto.svg"></img>
                               
                            </div>

                            : null

                        }

                        {this.state.cameraOn
                            ? <CameraFrame user={this.state.idUser} cancelOperation={this.cancelOperation}></CameraFrame>
                            : null
                        }
                         */}


                       <UploadImage lesson_id={this.state.lesson_id} user={this.state.idUser} cancelOperation={this.cancelOperation} uploadFile={this.uploadFile} uploadStatus={this.state.uploadFileStatus} ></UploadImage>
                         
                        
                        <UploadVideo lesson_id={this.state.lesson_id} user={this.state.idUser} cancelOperation={this.cancelOperation} uploadFile={this.uploadFile} uploadStatus={this.state.uploadFileStatus}></UploadVideo>
                            
                        

                    </div>

                    {this.state.uploadFileStatus

                        ? <ModalRetro></ModalRetro>
                        : null
                    }

                    <a href="#!" onClick={() => this.sendLessionProgress()}>
                        <Btn texto="Continuar" tipo="0"></Btn>
                    </a>
                </main>

            </div >
        )

    }

}

